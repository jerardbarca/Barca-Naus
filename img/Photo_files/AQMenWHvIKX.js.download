if (self.CavalryLogger) { CavalryLogger.start_js(["fc8Se"]); }

__d("MPageHeaderRight",["DOM","Stratcom"],(function(a,b,c,d,e,f,g,h){__p&&__p();function i(){return g.scry(document.body,"*","mChromeHeaderRight")[0]}f.setup=function(a){if(a){var b=i();b&&(g.setContent(b,a.node||""),h.listen("m:page:unload",null,function(event){h.removeCurrentListener(),g.setContent(b,"")}))}};f.getChromeHeaderRightContent=function(){var a=i();return a?Array.prototype.slice.call(a.childNodes):null}}),null);
__d("MCompositionStoreID",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({CONFIG:"CONFIG",FORMAT:"FORMAT",GROUP_SELL:"GROUP_SELL",MINUTIAE:"MINUTIAE",PHOTO:"PHOTO",PLACE:"PLACE",PAGE_RECOMMENDATIONS:"PAGE_RECOMMENDATIONS",SHARE:"SHARE",STATUS:"STATUS",WITH_TAGS:"WITH_TAGS",PRIVACY:"PRIVACY",SLIDESHOW:"SLIDESHOW",AUDIO:"AUDIO"})}),null);
__d("MComposition",["MCompositionStoreID","invariant"],(function(a,b,c,d,e,f,g,h){__p&&__p();function a(a){"use strict";a=a||{};this.$1={};for(var b in a)this.setStoreData(b,a[b])}a.prototype.serialize=function(){"use strict";return this.$1};a.prototype.$2=function(a){"use strict";Object.prototype.hasOwnProperty.call(g,a)||h(0,2905,a)};a.prototype.setStoreData=function(a,b){"use strict";this.$2(a);Object.prototype.hasOwnProperty.call(this.$1,a)&&h(0,2906,a);this.$1[a]=b;return this};e.exports=a}),null);
__d("KaiOSLoggerEvent",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({IMPRESSION:"impression",UPDATE_APP_VERSION:"update_app_version",PUSH_SUBSCRIPTION_CHANGE:"push_subscription_change",PUSH_SUBSCRIPTION_UPDATE_ERROR:"push_subscription_update_error",CONTACTS_UPLOADED:"contacts_uploaded",CONTACTS_RETRIEVED:"contacts_retrieved",CONTACTS_VALIDATED:"contacts_validated",CONTACTS_FRIENDABLES_FOUND:"contacts_friendables_found",CONTACTS_UPLOAD_TIME:"contacts_upload_time",CONTACTS_TIMEOUT:"contacts_timeout",CONTACTS_EXCEPTION:"contacts_exception",CONTACT_IMPORTER_OPT_IN:"contact_importer_opt_in",CONTACT_IMPORTER_OPT_OUT:"contact_importer_opt_out",CONTACT_IMPORTER_LEARN_MORE_CLICKED:"contact_importer_learn_more_clicked",HOLDOUT_INVESTIGATION:"holdout_investigation",START_LOADING:"start_loading",ENTER_COMPOSER:"enter_composer",AUTOPLAY:"autoplay",SAW_HSCROLL:"saw_hscroll",HSCROLL:"hscroll",RECORDED_AUDIO:"recorded_audio",PROFILE_LINK_CLICK:"profile_link_click",FEED_JEWEL_CLICKED:"feed_jewel_clicked",REQUESTS_JEWEL_CLICKED:"requests_jewel_clicked",MESSAGING_JEWEL_CLICKED:"messaging_jewel_clicked",NOTIFICATION_JEWEL_CLICKED:"notification_jewel_clicked",SEARCH_JEWEL_CLICKED:"search_jewel_clicked",BOOKMARK_JEWEL_CLICKED:"bookmark_jewel_clicked",OTHER_JEWEL_CLICKED:"other_jewel_clicked",SOFTKEY_MENU_BUTTON_CLICKED:"softkey_menu_button_clicked",SOFTKEY_MENU_CLOSE_BUTTON_CLICKED:"softkey_menu_close_button_clicked",SOFTKEY_POST_BUTTON_CLICKED:"softkey_post_button_clicked",SOFTKEY_OTHER_BUTTON_CLICKED:"softkey_other_button_clicked",SOFTKEY_BACK_BUTTON_CLICKED:"softkey_back_button_clicked"})}),null);
__d("KaiOSLoggerEventCategory",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({APP_INFO:"app_info",PUSH_SUBSCRIPTION:"push_subscription",CONTACT_IMPORTER:"contact_importer",MISCELLANEOUS:"miscellaneous",COMMENTS:"comments",GALLERY_SHARE:"gallery_share",COMPOSER:"composer",MENU_BAR:"menu_bar",SOFTKEY_TRAY:"softkey_tray"})}),null);
__d("KaiOSLogger",["BanzaiLogger","KaiOSLoggerEvent","KaiOSLoggerEventCategory"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=!1,k={logAppVersion:function(a){g.log("KaiOSEventsLoggerConfig",{event:h.UPDATE_APP_VERSION,event_category:i.APP_INFO,app_version:a})},logWithBanzai:function(event,a,b){g.log("KaiOSEventsLoggerConfig",{event:event,event_category:a,extra_data:b})},logContactsRetrieved:function(a){k._logContacts(a,h.CONTACTS_RETRIEVED)},logValidatedContacts:function(a){k._logContacts(a,h.CONTACTS_VALIDATED)},logUploadTime:function(a){g.log("KaiOSEventsLoggerConfig",{event:h.CONTACTS_UPLOAD_TIME,event_category:i.CONTACT_IMPORTER,time:a})},logTimeout:function(a){g.log("KaiOSEventsLoggerConfig",{event:h.CONTACTS_TIMEOUT,event_category:i.CONTACT_IMPORTER,step:a})},_logContacts:function(a,event){g.log("KaiOSEventsLoggerConfig",{event:event,event_category:i.CONTACT_IMPORTER,contacts:a})},logAutoplay:function(a){j||(g.log("KaiOSEventsLoggerConfig",{event:h.AUTOPLAY,event_category:i.MISCELLANEOUS,extra_data:a}),j=!0)},logSawHScroll:function(a){g.log("KaiOSEventsLoggerConfig",{event:h.SAW_HSCROLL,event_category:i.MISCELLANEOUS,extra_data:{childType:a}})},logHScroll:function(a){g.log("KaiOSEventsLoggerConfig",{event:h.HSCROLL,event_category:i.MISCELLANEOUS,extra_data:{childType:a}})},logRecordedAudio:function(){g.log("KaiOSEventsLoggerConfig",{event:h.RECORDED_AUDIO,event_category:i.MISCELLANEOUS})}};e.exports=k}),null);
__d("MComposerPresence",["DOM","EventEmitter","MLegacyDataStore","$","invariant"],(function(a,b,c,d,e,f,g,h,i,j,k){__p&&__p();var l="REGISTERED",m=null,n=new h();a={addRegistrationListener:function(a){return n.addListener(l,a)},hasRegisteredInstance:function(){return!!m},hasLoadedPrivacyValue:function(a){return!this.hasRegisteredInstance()?!1:g.scry(g.find(j("static_templates"),"div","composer-main-view"),"tr","privacy-option").some(function(b){return i.get(b).value===a})},register:function(a){m&&k(0,5767),m=a,n.emit(l)},unregister:function(a){m===a||k(0,5768),m=null},cleanup:function(){m!==null&&m.cleanup()}};e.exports=a}),null);
__d("MComposerAsyncLoadRequest",["Promise","MComposerPresence","MRequest","gkx"],(function(a,b,c,d,e,f,g,h,i,j){__p&&__p();function a(){"use strict";this.$1=null,this.$2=null,this.$3=null}a.prototype.$4=function(){"use strict";this.$1&&(this.$1.remove(),this.$1=null),this.$3&&(this.$3.abort(),this.$3=null)};a.prototype.$5=function(a){"use strict";return new g(function(b,c){this.$1=h.addRegistrationListener(b),this.$3=new i(a).setFailureLogging("load_composer"),this.$3.setAutoRetry(j("676787")),this.$3.listen("fail",c),this.$3.send()}.bind(this))};a.prototype.send=function(a){"use strict";this.$2||(this.$2=this.$5(a),this.$2["finally"](function(){return this.$4()}.bind(this)));return this.$2};e.exports=a}),null);
__d("MComposerDataStoreKeys",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({COMPOSITION:"COMPOSITION",ON_CANCEL:"ON_CANCEL",ON_SUBMIT:"ON_SUBMIT",ON_OPEN:"ON_OPEN"})}),null);
__d("MComposerSigils",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ENTRY_TRIGGER_LEGACY:"show_composer",ENTRY_TRIGGER:"composer_entry_trigger"})}),null);
__d("XComposerAsyncLoaderController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/composer/async_loader/",{targetid:{type:"Int"}})}),null);
__d("MComposerEntry",["Promise","ErrorUtils","LoadingIndicator","MComposerAsyncLoadRequest","MComposerDataStoreKeys","MComposerPresence","MComposerSigils","MComposition","MLegacyDataStore","Stratcom","XComposerAsyncLoaderController"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){__p&&__p();var r=new g(function(a,b){return b()}),s=new g(function(a){return a()}),t=h.guard(function(a){if(a)throw a},"MComposerEntry");function a(event){if(y)return;z.invoke(new n(o.get(event.getNode(m.ENTRY_TRIGGER))[k.COMPOSITION]))}function u(a,b,c,d,e){__p&&__p();d===void 0&&(d=!0);y=!0;var f=null;l.hasRegisteredInstance()?f=x(a,c):f=w(a,b,d).then(function(){var b=!0;e&&(b=e());if(b)return x(a,c)},t);f["finally"](function(){return y=!1});return f}function v(a,b){return l.hasRegisteredInstance()?s:new j().send(b)}function w(a,b,c){c===void 0&&(c=!0);c&&i.show();a=v(a,b);c&&a["finally"](function(){return i.hide()});return a}function x(a,b){return new g(function(c,d){var e={};e[k.COMPOSITION]=a.serialize();e[k.ON_CANCEL]=d;e[k.ON_SUBMIT]=c;e[k.ON_OPEN]=b;p.invoke("MComposer:entry:js",null,e)})}var y=!1;q.getURIBuilder().getURI();p.listen("click",m.ENTRY_TRIGGER,a);p.listen("m:page:unload",null,function(){y=!1});var z={invoke:function(a,b){return y||this.blockNavigateToComposer()?r:u(a||new n(),q.getURIBuilder().setInt("targetid",b).getURI())},invokeOcelot:function(a,b,c,d){if(y||this.blockNavigateToComposer())return r;var e=new n();return u(e,a,c,b,d)},blockNavigateToComposer:function(){return window.bgUploadInlineComposerCallback?window.bgUploadInlineComposerCallback():!1}};e.exports=z}),null);
__d("MComposerTypes",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ACTIVITY:"activity",CHECKIN:"checkin",EDIT:"edit",GROUP_SELL:"group_sell",PHOTO:"photo",RECOMMENDATION:"recommendation",SHARE:"share",STATUS:"status",TAG_FRIEND:"tag_friend",AUDIO:"audio"})}),null);
__d("XOcelotComposerAsyncLoaderController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/composer/ocelot/async_loader/",{publisher:{type:"Enum",required:!0,enumType:1},target_id:{type:"FBID"}})}),null);
__d("MOcelotComposerPlaceholderFormLoader",["DOM","EventListener","KaiOSLogger","MComposerEntry","MComposerTypes","Stratcom","XOcelotComposerAsyncLoaderController","ge"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){__p&&__p();e.exports={_isOpen:!1,_isSubmitting:!1,_viewport:HTMLElement,_textarea:HTMLInputElement,_submittingContainer:HTMLElement,initElements:function(a){__p&&__p();var b=m.getURIBuilder().setEnum("publisher",a.publisher).setFBID("target_id",a.targetId).getURI(),c=n("composer-async-loader-root");if(!c){a.elementsParams.forEach(function(a){h.listen(a.element,"click",function(){j.invokeOcelot(b,!0,a.onOpenAction)})});return}this._viewport=n("viewport");this._submittingContainer=g.find(c,"div","composer-submitting");this._textarea=g.find(c,"textarea","composer-placeholder-textarea");var d=g.find(c,"div","cancel_composer");this._placeholderComposerForm=g.find(c,"form","composer-placeholder-form");var e=[h.listen(d,"click",function(a){this.hideComposer()}.bind(this)),h.listen(this._placeholderComposerForm,"submit",function(event){if(this._textarea.value.length===0){event.preventDefault();return!1}this._isSubmitting=!0;g.show(this._submittingContainer);return!0}.bind(this)),l.listen("click","show_composer",function(){this.showComposer(a.autoFocus),j.invokeOcelot(b,!1,k.STATUS,function(){e.forEach(function(a){return a.remove()});return this._isOpen}.bind(this))}.bind(this))];this._placeholderComposerForm.style.display!=="none"&&(this._isOpen=!0,this._isSubmitting=!1,j.invokeOcelot(b,!1,k.STATUS,function(){e.forEach(function(a){return a.remove()});return this._isOpen}.bind(this)));a.elementsParams.forEach(function(c){c.element.onclick=null,h.listen(c.element,"click",function(){if(j.blockNavigateToComposer())return;this.showComposer(a.autoFocus);this._isSubmitting=!1;j.invokeOcelot(b,!1,c.onOpenAction,function(){e.forEach(function(a){return a.remove()});return this._isOpen}.bind(this))}.bind(this))}.bind(this));a.profileLink&&h.listen(a.profileLink,"click",function(){i.logWithBanzai("profile_link_click","composer")})},showComposer:function(a){this._isOpen=!0,g.show(this._placeholderComposerForm),g.hide(this._viewport),g.hide(this._submittingContainer),a&&this._textarea.focus()},hideComposer:function(){if(this._isSubmitting)return;this._isOpen=!1;g.show(this._viewport);g.hide(this._placeholderComposerForm)}}}),null);
__d("RemoteDevice",["Cookie","MViewport","isInIframe"],(function(a,b,c,d,e,f,g,h,i){__p&&__p();b={init:function(){__p&&__p();if(!i()&&!window.APP_ENABLED&&!window.FW_ENABLED){if(/\((?:iPad|iPhone|iPod(?: touch));/.test(navigator.userAgent)){var b=Math.min(screen.width,screen.height),c=Math.max(screen.width,screen.height);b&&c&&(g.set("wd",b+"x"+c),g.set("m_pixel_ratio",window.devicePixelRatio));return}b=h.getWidth();c=h.getScreenHeight();if(!b||!c)return;a.DEFER_COOKIES||g.set("wd",b+"x"+c)}}};e.exports=b}),null);
__d("ViewportTrackingHooks",["Base64"],(function(a,b,c,d,e,f,g){__p&&__p();var h={},i=[];a={registerFeedObject:function(a,b){h[a]=g.encode(b)},updateVisibleViewportObjects:function(a){var b=[],c=!1;for(var d=0;d<a.length;d++){var e=a[d],f=e.id;while(!(f in h)&&e.firstChild!=void 0&&e.firstChild.id!=void 0&&e.firstChild.id.startsWith("u_"))f=e.firstChild.id,e=e.firstChild;f in h&&(b.push(h[f]),(!(d in i)||i[d]!=h[f])&&(c=!0))}!c&&i.length!=b.length&&(c=!0);c&&(i=b,typeof __EXT__updateVisibleViewportObjects==="function"&&__EXT__updateVisibleViewportObjects(i))}};e.exports=a}),null);
__d("MViewportTracking",["DataAttributeUtils","DOM","FBJSON","MPageController","MViewport","NavigationMetrics","Stratcom","Style","Vector","ViewportTrackingHooks","Visibility","VisibilityTrackingHelper","gkx","invariant","onAfterTTI","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v){"use strict";__p&&__p();var w=97,x=200,y=new Map();function z(){this.$2=[],this.debugConsole=!1,this.activeStories={},this.cachedViewportHeight=0,this.discardVPVDIntervalThreshold=9e4,this.isLoose=!1,this.isTimeTrackingEnabled=!1,this.latestTimeTrackingTimestamp=0,this.maxScrollPosition=0,this.minSizeToBeVisible=0,this.readStoryIDs={},this.relaxedMinSize=!1,this.throttleNoDelay=!1,this.trackingHooks=!1,this.vpvdDebug=!1,this.vpvDebug=!1,this.enableAdsAllocationIntegrityLogging=!1}z.prototype.getDataFromConfig=function(a){t(0,2199)};z.prototype.getStoryID=function(a){t(0,2200)};z.prototype.getDataToLog=function(a){t(0,2201)};z.prototype.sendDataToLog=function(a){t(0,2202)};z.prototype.getTimeout=function(){t(0,2203)};z.prototype.getAllStories=function(){t(0,2204)};z.prototype.init=function(a){__p&&__p();this.isLoose=!!a.is_loose;this.throttleNoDelay=!!a.throttle_no_delay;this.relaxedMinSize=!!a.relaxed_min_size;this.vpvDebug=!!a.vpv_debug;this.trackingHooks=!!a.tracking_hooks;this.isTimeTrackingEnabled=!1;var b=z.shouldRunTrackingAfterTTI();b||(this.cachedViewportHeight=k.getHeight());this.getDataFromConfig(a);this.maxScrollPosition=0;this.readStoryIDs={};this.$2=[m.listen("m:page:unload",null,this.onUnload.bind(this)),m.listen("m:viewport:update-complete",null,function(){this.cachedViewportHeight=k.getHeight()}.bind(this))];a.triggerOverride?this.$2=this.$2.concat(a.triggerOverride.map(function(a){var event=a[0];a=a[1];return m.listen(event,a,this.queueLogAction.bind(this))}.bind(this))):this.$2.push(m.listen("scroll",null,this.queueLogAction.bind(this)));this.isTimeTrackingEnabled&&(this.$2.push(q.addListener(q.VISIBLE,function(){return this.startRecordingTimeTrackingData()}.bind(this))),this.$2.push(q.addListener(q.HIDDEN,function(){return this.stopRecordingTimeTrackingData()}.bind(this))));this.$2.push(m.listen("m:newsfeed:popup-visible",null,function(){this.stopRecordingTimeTrackingData()}.bind(this)),m.listen("m:newsfeed:popup-hidden",null,function(){this.startRecordingTimeTrackingData(),this.fireEvent()}.bind(this)));b?u(function(){this.fireEvent()}.bind(this),!1):(this.fireEvent(),l.addRetroactiveListener(l.Events.EVENT_OCCURRED,function(a,b){var event=b.event;event==="tti"&&(this.fireEvent(),l.removeCurrentListener())}.bind(this)))};z.prototype.getFBFeedLocation=function(){return-1};z.prototype.unitTestOnlyGetListeners=function(){return[].concat(this.$2)};z.prototype.getMinSizeToBeVisible=function(a){if(!this.relaxedMinSize)return x;a="getBoundingClientRect"in a?a.getBoundingClientRect().height:o.getDim(a).y;return Math.min(x,a*.5)};z.prototype.fireEvent=function(){__p&&__p();if(r.isSnippetFlyoutVisible())return;var a=this.getAllStoriesInView();for(var b=0;b<a.length;b++){var c=a[b],d=this.getStoryID(c);if(!d||d in this.readStoryIDs)continue;this.readStoryIDs[d]=!0;this.sendDataToLog(this.getDataToLog(c));if(this.vpvDebug){d=h.scry(c,"div")[0];d&&n.set(d,"background-color","#fffbe2")}this.markStoryRead(c);this.fireStoryVisibleHandlers(c)}this.trackingHooks&&p.updateVisibleViewportObjects(this.getAllStoriesInView(!0))};z.prototype.fireStoryVisibleHandlers=function(a){(y.get(a)||[]).forEach(function(a){return a()}),y["delete"](a)};z.prototype.markStoryRead=function(a){};z.prototype.queueLogAction=function(){this.isLoose?this.$3||(this.$3=v(function(){this.isTimeTrackingEnabled&&this.startRecordingTimeTrackingData(),this.$3=null,this.maxScrollPosition=Math.max(this.maxScrollPosition,k.getScrollTop()),!this.throttleNoDelay?(clearTimeout(this.$1),this.$1=v(function(){return this.fireEvent()}.bind(this),this.getTimeout())):this.fireEvent()}.bind(this),100)):(clearTimeout(this.$1),this.$1=v(function(){this.isTimeTrackingEnabled&&this.startRecordingTimeTrackingData(),this.fireEvent()}.bind(this),this.getTimeout()))};z.prototype.getTimetrackingDataToLog=function(a){var b=h.scry(a.story,"*","data-is-cta").map(function(a){a=g.getDataFt(a);a=a&&JSON.parse(a);return a&&a.cta_types}).filter(function(a){return!!a});this.cachedViewportHeight===0&&z.shouldRunTrackingAfterTTI()&&(this.cachedViewportHeight=k.getHeight());return{evt:w,fbfeed_location:this.getFBFeedLocation(),story_height:a.story_height,viewport_height:this.cachedViewportHeight,vpvd_start_timestamp:a.evp_ts/1e3,vpvd_time_delta:Math.round(a.vpvd||0),cta_types:b}};z.prototype.recordTimeStoryWasInView=function(a){if(this.isTimeTrackingEnabled&&a.vpvd>0){var b=this.getTimetrackingDataToLog(a);if(typeof b!=="string"){a=g.getDataFt(a.story);a&&(b=babelHelpers["extends"]({},b,i.parse(a,e.id)))}this.sendTimetrackingDataToLog(b)}};z.prototype.startRecordingTimeTrackingData=function(){this.$4(!1)};z.prototype.stopRecordingTimeTrackingData=function(){this.$4(!0)};z.prototype.$4=function(a){__p&&__p();this.activeStories||(this.activeStories={});var b=Date.now();this.latestTimeTrackingTimestamp||(this.latestTimeTrackingTimestamp=b);var c=this.getAllStoriesInView();this.updateVPVDurations(b);if(this.debugConsole){var d=Object.values(this.activeStories);d.length&&(console.table&&console.table(d))}d=this.updateActiveStories(c,b);this.debugConsole&&(d.length&&(console.table&&console.table(d)));this.recordVPVDurations(c,a);this.latestTimeTrackingTimestamp=a?0:b};z.prototype.updateVPVDurations=function(a){var b=a-this.latestTimeTrackingTimestamp;if(b>this.discardVPVDIntervalThreshold)return;b=a-this.latestTimeTrackingTimestamp;for(var c in this.activeStories)Object.prototype.hasOwnProperty.call(this.activeStories,c)&&(this.activeStories[c].vpvd+=b)};z.prototype.isVisible=function(a,b){for(var c=0;c<b.length;c++)if(this.getStoryID(b[c])===a)return!0;return!1};z.prototype.recordVPVDurations=function(a,b){this.recordVPVDurationsInternal(a,b)};z.prototype.recordVPVDurationsInternal=function(a,b){for(var c in this.activeStories)Object.prototype.hasOwnProperty.call(this.activeStories,c)&&((b||!this.isVisible(c,a))&&(this.recordTimeStoryWasInView(this.activeStories[c]),delete this.activeStories[c]))};z.prototype.updateActiveStories=function(a,b){var c=[];for(var d=0;d<a.length;d++){var e=this.getStoryID(a[d]);if(!e)break;e in this.activeStories||(this.activeStories[e]={evp_ts:b,story:a[d],vpvd:0,story_height:a[d].offsetHeight},c.push(this.activeStories[e]));this.activeStories[e].ts=b}return c};z.prototype.getAllStoriesInView=function(a){__p&&__p();a===void 0&&(a=!1);var b=[],c=this.getAllStories(),d=k.getScrollTop(),e=k.getHeight(),f=this.isLoose,g=e+this.maxScrollPosition-d;for(var h=0;h<c.length;h++){var i=c[h],j=this.getStoryBounds(d,i),l=j.top;j=j.bottom;if(!l&&!j)continue;var m=this.getMinSizeToBeVisible(i);if(!f&&l>e-m)break;m=!f&&l<=e-m&&j>=m||f&&l<g;a&&(j<0||l>e)&&(m=!1);m&&b.push(i)}return b};z.prototype.getStoryBounds=function(a,b){if("getBoundingClientRect"in b){var c=b.getBoundingClientRect();return{bottom:c.bottom,top:c.top}}else{c=o.getPos(b).y-a;return{top:c,bottom:c+o.getDim(b).y}}};z.prototype.cleanup=function(){this.$2.forEach(function(a){return a.remove()}),this.$2=[],y.clear()};z.prototype.onUnload=function(){this.isTimeTrackingEnabled&&this.stopRecordingTimeTrackingData(),this.cleanup()};z.prototype.sendTimetrackingDataToLog=function(a){this.sendDataToLog(a)};z.shouldRunTrackingAfterTTI=function(){return j.isHomeishPath(location.href)&&s("676812")};z.addStoryVisibleHandler=function(a,b){y.set(a,[].concat(y.get(a)||[],[b]));return{remove:function(){y.set(a,(y.get(a)||[]).filter(function(a){return a!==b}))}}};e.exports=z}),null);
__d("MCommentViewportTracking",["Banzai","DataStore","DOM","FBJSON","MParent","MViewportTracking","Stratcom","StratcomManager","compactArray","gkx","onAfterTTI"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){"use strict";__p&&__p();var r,s=null,t={m_group_stories_container:"group",m_newsfeed_stream:"",m_story_permalink_view:"",structured_composer_async_container:"user",root:""};r=babelHelpers.inherits(u,l);r&&r.prototype;u.loadedReplies=function(){m.invoke("m:commentViewportTracking:loadedReplies")};u.loadedComments=function(){s&&s.isTimeTrackingEnabled&&s.startRecordingTimeTrackingData()};u.singleton=function(a){__p&&__p();if(!s){a={triggerOverride:[["scroll",null],["m:commentViewportTracking:loadedReplies",null],["m:feed-ufi-flyout:comments-displayed",null],["m:ufi:live-comments:render",null],["m:ufi:live-comments:new-comment",null],["m:feed-ufi-flyout:reset",null],["m:page:render:complete",null]]};n.enableDispatch(document,"scroll");s=new u();s.init(a);s.debugConsole;s.isTimeTrackingEnabled&&(l.shouldRunTrackingAfterTTI()?q(function(){s instanceof u&&s.startRecordingTimeTrackingData()},!1):s.startRecordingTimeTrackingData());m.listen("m:page:unload",null,function(){s=null,m.removeCurrentListener()})}};u.registerFlyout=function(a,b){var c;s&&(s.debugConsole,s.streamRoot=a);t=babelHelpers["extends"]((c={},c[a.id]=b||"",c),t)};u.prototype.getDataFromConfig=function(){this.debugConsole=p("676811"),this.isTimeTrackingEnabled=!0,this.idle_timeout=5e3,this.min_duration_to_log=100,this.min_visible_size=200,this.relaxedMinSize=!0};u.prototype.__getRootNode=function(){this.streamRoot||(this.streamRoot=o(Object.keys(t).map(function(a){return document.getElementById(a)}))[0]||null);return this.streamRoot};u.prototype.__getStaticTemplateRootNode=function(){this.staticElementRoot||(this.staticElementRoot=document.getElementById("static_templates"));return this.staticElementRoot};u.prototype.getAllStories=function(){var a=this.__getRootNode();if(!a)return[];a=i.scry(this.__getRootNode(),"div","comment-body");return this.__getStaticTemplateRootNode()?a.concat(i.scry(this.__getStaticTemplateRootNode(),"div","comment-body")):a};u.prototype.getTimeout=function(){return this.min_duration_to_log};u.prototype.getDataToLog=function(a){return{}};u.prototype.getStoryID=function(a){var b=a.getAttribute("data-commentid");return!b?String(h.get(a,"token"))||null:b};u.prototype.getContainerModule=function(){var a=this.__getRootNode();return!a||!(a.id in t)?"other":t[a.id]};u.prototype.getTimetrackingDataToLog=function(a){var b=a.story,c;try{var d=k.bySigil(a.story,"story-div")||k.bySigil(a.story,"m-feed-single-story");d&&(c=j.parse(d.getAttribute("data-ft"),e.id))}catch(a){}return{comment_id:this.getStoryID(b),duration_ms:Math.round(a.vpvd),container_module:this.getContainerModule(),mf_story_key:c?c.mf_story_key||c.top_level_post_id:null}};u.prototype.sendDataToLog=function(a){if(a.comment_id){this.debugConsole;var b=g.isEnabled("comment_vpv_vital")?g.VITAL:null;g.post("comment_vpvd",a,b)}};function u(){r.apply(this,arguments)}e.exports=u}),null);
__d("MLogging",["MLogState"],(function(a,b,c,d,e,f,g){a=function(a){g.setRefid(a.refid)};f.main=a}),null);
__d("AccessibilityWebAssistiveTechTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();function a(){this.clear()}a.prototype.log=function(){h.log("logger:AccessibilityWebAssistiveTechLoggerConfig",this.$1,g.BASIC)};a.prototype.logVital=function(){h.log("logger:AccessibilityWebAssistiveTechLoggerConfig",this.$1,g.VITAL)};a.prototype.logImmediately=function(){h.log("logger:AccessibilityWebAssistiveTechLoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setIndicatedBrowsers=function(a){this.$1.indicated_browsers=h.serializeVector(a);return this};a.prototype.setIsVirtualCursorAction=function(a){this.$1.is_virtual_cursor_action=a;return this};a.prototype.setVC=function(a){this.$1.vc=a;return this};a.prototype.updateExtraData=function(a){a=i(h.serializeMap(a));h.checkExtraDataFieldNames(a,j);this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.addToExtraData=function(a,b){var c={};c[a]=b;return this.updateExtraData(c)};var j={indicated_browsers:!0,is_virtual_cursor_action:!0,vc:!0};e.exports=a}),null);
__d("MSiteMessengerDiodeTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();function a(){this.clear()}a.prototype.log=function(){h.log("logger:MSiteMessengerDiodeLoggerConfig",this.$1,g.BASIC)};a.prototype.logVital=function(){h.log("logger:MSiteMessengerDiodeLoggerConfig",this.$1,g.VITAL)};a.prototype.logImmediately=function(){h.log("logger:MSiteMessengerDiodeLoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setEvent=function(a){this.$1.event=a;return this};a.prototype.setMessagingEntryPoint=function(a){this.$1.messaging_entry_point=a;return this};a.prototype.setMsiteDiodeStateFromClient=function(a){this.$1.msite_diode_state_from_client=a;return this};a.prototype.setVC=function(a){this.$1.vc=a;return this};b={event:!0,messaging_entry_point:!0,msite_diode_state_from_client:!0,vc:!0};e.exports=a}),null);
__d("ShareMenuTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();function a(){this.clear()}a.prototype.log=function(){h.log("logger:ShareMenuLoggerConfig",this.$1,g.BASIC)};a.prototype.logVital=function(){h.log("logger:ShareMenuLoggerConfig",this.$1,g.VITAL)};a.prototype.logImmediately=function(){h.log("logger:ShareMenuLoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setAppID=function(a){this.$1.appid=a;return this};a.prototype.setAppversion=function(a){this.$1.appversion=a;return this};a.prototype.setClienttime=function(a){this.$1.clienttime=a;return this};a.prototype.setComposerSessionID=function(a){this.$1.composer_session_id=a;return this};a.prototype.setCountry=function(a){this.$1.country=a;return this};a.prototype.setDeviceid=function(a){this.$1.deviceid=a;return this};a.prototype.setExtraClientData=function(a){this.$1.extra_client_data=a;return this};a.prototype.setFbAudience=function(a){this.$1.fb_audience=a;return this};a.prototype.setFbEntryPoint=function(a){this.$1.fb_entry_point=a;return this};a.prototype.setFbShareType=function(a){this.$1.fb_share_type=a;return this};a.prototype.setFbSignificance=function(a){this.$1.fb_significance=a;return this};a.prototype.setName=function(a){this.$1.name=a;return this};a.prototype.setOrcaEntryPoint=function(a){this.$1.orca_entry_point=a;return this};a.prototype.setOrcaSignificance=function(a){this.$1.orca_significance=a;return this};a.prototype.setSessionid=function(a){this.$1.sessionid=a;return this};a.prototype.setVC=function(a){this.$1.vc=a;return this};b={appid:!0,appversion:!0,clienttime:!0,composer_session_id:!0,country:!0,deviceid:!0,extra_client_data:!0,fb_audience:!0,fb_entry_point:!0,fb_share_type:!0,fb_significance:!0,name:!0,orca_entry_point:!0,orca_significance:!0,sessionid:!0,vc:!0};e.exports=a}),null);
__d("NTAnnounceSubscription",["Stratcom"],(function(a,b,c,d,e,f,g){"use strict";a={subscribe:function(a,b){g.listen(a,null,function(event){b(event.getData())})}};e.exports=a}),null);
__d("XUFIReactionController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ufi/reaction/",{client_id:{type:"String"},ft_ent_identifier:{type:"String"},reaction_type:{type:"Enum",enumType:0},story_render_location:{type:"Enum",enumType:1},is_inline:{type:"Bool",defaultValue:!1},is_comment:{type:"Bool",defaultValue:!1},is_permalink:{type:"Bool",defaultValue:!1},action_source:{type:"String"},feedback_source:{type:"Int"},feedback_referrer:{type:"String"},is_sponsored:{type:"Bool",defaultValue:!1},basic_origin_uri:{type:"String"},basic_reload:{type:"Exists",defaultValue:!1},on_demand_content_time_offset:{type:"Int"},live_content_time_offset:{type:"Int"},bgsync_id:{type:"String"},aftercursor:{type:"String"},tab:{type:"String"},_ft_:{type:"String"}})}),null);
__d("MReactionsFlyout",["ActorURI","BanzaiLogger","CancelableEventListener","CSS","DOM","MAudioController","MBlockingTouchable","MLegacyDataStore","MLiveData","MParent","MUFIConfig","MUFIReactionsUtils","MUFIRequest","Stratcom","SubscriptionsHandler","TouchEventType","URI","XUFIReactionController","clearTimeout","cx","fbt","gkx","setTimeout"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C){__p&&__p();var D=[1,2,4,3,7,8],E=17,F={top:.3,bottom:.6},G,H=[];function I(a){"use strict";__p&&__p();this.autoHideOnScroll=function(event){__p&&__p();var a=this.flyout;if(!a||!a.isShown()){t.removeCurrentListener();return}var b;window.innerHeight?b=window.innerHeight:document.body&&(b=document.body.clientHeight);if(!b)return;var c=a.getContext().getBoundingClientRect().top,d=b*F.top,e=b*F.bottom;(c<d||c>e)&&a.hide()}.bind(this),this.onUnload=function(){this.onHide(),this.pageSubscriptions.release()}.bind(this),this.onClick=function(event){var a=event.getNode("reaction-item");a instanceof HTMLElement&&this.select(a)}.bind(this),this.onScreenReaderTrigger=function(event){__p&&__p();var a=event.getTarget();if(!a)return;a=a.previousSibling;if(!a)return;this.flyout.setContext(a);this.setSupported();this.flyout.show();this.flyoutSubscriptions.addSubscriptions(t.listen("click","reaction-item",this.onClick));a=o.get(n.get(this.flyout.getContext()).feedbackTarget).getData();a=a.viewerreaction;var b=null;for(var c=0,d=this.reactionElements.length;c<d;c++){var e=n.get(this.reactionElements[c]);e=e.reaction;e===a&&(b=this.reactionElements[c])}b||(b=this.reactionElements[0]);b.focus()}.bind(this),this.onClickTrigger=function(event){__p&&__p();var a=event.getTarget();if(!(a instanceof HTMLElement))return;var b=this.flyout;if(b.isShown()){b.hide();return}t.hasSigil(a,"like-reaction-flyout")||(a=p.bySigil(a,"like-reaction-flyout"));a&&this.setupFlyout(b,a)}.bind(this),this.onClickCapture=function(event){__p&&__p();var a=this.flyout;if(a){var b=n.get(a.getContext());b=b.kaiOSReactions;if(b&&a.isShown()){a.hide();return}}event.stop()}.bind(this),this.onTouchStart=function(event){__p&&__p();var a=this.flyout;if(!a.isShown()){if(B("706087")){var b=document;b=b.body;b&&j.addClass(b,"_70ol")}this.touchStartX=event.getTouch().clientX;this.timing.touchStartTime=Date.now();this.preventScrollTimeout=C(function(){this.canScroll=!1}.bind(this),200);this.longpressTimeout=C(function(){this.timing.shownTime=Date.now();var b=event.getTarget();if(!(b instanceof HTMLElement))return;t.hasSigil(b,"like-reaction-flyout")||(b=p.bySigil(b,"like-reaction-flyout"));b&&this.setupFlyout(a,b)}.bind(this),300)}}.bind(this),this.onTouchMove=function(event){__p&&__p();var a=this.flyout,b=a.getContext()&&n.get(a.getContext()).isComment;this.canScroll||(b?event.kill():event.prevent());if(!a.isShown())return;var c=event.getTouch(),d=c.clientX;c=c.clientY;c=document.elementFromPoint(d,c);if(c){var e=c.nodeName==="I"||c.nodeName==="IMG";if(!(e||this.canScrub)){this.canScrub=Math.abs(this.touchStartX-d)>=25;return}a.getContentRoot().setAttribute("data-longpress",!0);if(a.getContentRoot().contains(c)){if(e){c=(d=c)!=null?(d=d.parentNode)!=null?d.parentNode:d:d}this.active!==c&&n.get(c).reaction&&(this.isUpdatedDock||b?this.showOverlay(this.overlay&&this.overlay.slide):this.showOverlay(this.overlay&&this.overlay.dots),this.removeActive(),this.active=c,c&&c.setAttribute("data-active","true"))}else(!this.overlay||!this.overlay.container.contains(c))&&(this.removeActive(),this.showOverlay(this.overlay&&this.overlay.release))}}.bind(this),this.onTouchEnd=function(event){__p&&__p();var a=this.active;if(a)this.log({finalReaction:n.get(a).reaction,viaScrubbing:!0}),this.select(a);else{a=event.getTouch();var b=a.clientX;a=a.clientY;b=document.elementFromPoint(b,a);a=this.flyout;b&&!(a.getContentRoot().contains(b)||a.getContext().contains(b)||this.overlay&&this.overlay.container.contains(b))&&a.hide()}}.bind(this),this.onWindowClick=function(event){var a,b=event.getNode("reaction-item");b&&(a=n.get(b).reaction);this.log({finalReaction:a,viaScrubbing:!1})}.bind(this),this.onWindowTouchEnd=function(){var a=this.flyout;a.isShown()?(this.timing.touchEndTime=Date.now(),a.getContentRoot().removeAttribute("data-longpress")):(this.canScroll=!0,y(this.longpressTimeout),y(this.preventScrollTimeout))}.bind(this),this.onHide=function(){__p&&__p();if(B("706087")){var a=document;a=a.body;a&&j.addClass(a,"_70ol")}this.canScroll=!0;this.canScrub=!1;this.removeActive();this.removeUFIOverlay();this.flyout.hide();this.flyoutSubscriptions.release();this.flyoutSubscriptions=new u()}.bind(this),this.onWindowTouchMove=function(){this.flyout.isShown()||(this.canScroll=!0,y(this.longpressTimeout),y(this.preventScrollTimeout))}.bind(this),this.flyout=a,this.active=null,this.canScroll=!0,this.canScrub=!1,this.preventScrollTimeout=null,this.longpressTimeout=null,this.nuxTooltip=null,this.overlay=null,this.timing={touchStartTime:null,touchEndTime:null,shownTime:null},this.touchStartX=0,this.isUpdatedDock=q.hasUpdatedDock,this.pageSubscriptions=new u(),this.flyoutSubscriptions=new u(),this.assignFlyoutContent(),this.pageSubscriptions.addSubscriptions(a.addListener("hide",this.onHide),t.listen("m:page:unload",null,this.onUnload),t.listen("m:viewport:orientation-change",null,this.onHide),t.listen(v.END,null,this.onWindowTouchEnd),t.listen("click","screenreader-reactions-trigger",this.onScreenReaderTrigger),i.listen(a.getContentRoot(),"touchmove","reaction-item",this.onTouchMove)),H.forEach(function(a){return this.addAnchor(a)}.bind(this)),G&&this.setNUXTooltip(G),q.hasIEMobileFixes?this.pageSubscriptions.addSubscriptions(t.listen("touchcancel",null,this.onWindowTouchEnd)):this.pageSubscriptions.addSubscriptions(t.listen("touchmove",null,this.onWindowTouchMove))}I.prototype.addAnchor=function(a){"use strict";var b=t.hasSigil(a,"kaios-like-react-trigger");b?this.pageSubscriptions.addSubscriptions(i.listen(a,"click",null,this.onClickTrigger)):this.pageSubscriptions.addSubscriptions(i.listen(a,v.START,null,this.onTouchStart));q.hasIEMobileFixes||this.pageSubscriptions.addSubscriptions(i.listen(a,"touchmove","like-reaction-flyout",this.onTouchMove),i.listen(a,"touchmove","reaction-item",this.onTouchMove))};I.prototype.assignFlyoutContent=function(){"use strict";(!this.reactionElements||this.reactionElements.length===0)&&(this.reactionElements=document.getElementsByClassName("_1-kd"),Array.prototype.forEach.call(this.reactionElements,function(a){return m.init(a)}))};I.prototype.setupFlyout=function(a,b){"use strict";__p&&__p();B("676818")&&l.play("reactions","openReactionsFlyout");var c=n.get(b);a.setContext(b);this.setSupported();b=this.nuxTooltip;b&&b.hide();b=a.getContentRoot();b=p.bySigil(b,"m-layer-root");b&&(this.isUpdatedDock&&!c.isComment&&(this.applyMultilineFlyout(),j.addClass(b,"_5xt_")),c.isComment&&j.addClass(b,"_31rl"));a.show();b=n.get(a.getContext());b=b.kaiOSReactions;b||this.createUFIOverlay();this.isUpdatedDock||c.isComment?this.showOverlay(this.overlay&&this.overlay.tap):this.showOverlay(this.overlay&&this.overlay.dots);this.flyoutSubscriptions.addSubscriptions(t.listen("click","reaction-item",this.onClick),t.listenCapture("click","like-reaction-flyout",this.onClickCapture),t.listenCapture("click",null,this.onWindowClick));b=n.get(a.getContext());c=b.kaiOSAutoHideReactions;c&&this.flyoutSubscriptions.addSubscriptions(t.listen("scroll",null,this.autoHideOnScroll));q.hasIEMobileFixes||this.flyoutSubscriptions.addSubscriptions(t.listen("touchend","like-reaction-flyout",this.onTouchEnd),t.listen("touchend","reaction-item",this.onTouchEnd))};I.prototype.select=function(a){"use strict";__p&&__p();var b=this.flyout;b.hide();B("676818")&&l.play("reactions","selectReactionFromFlyout");if(!a)return;a=n.get(a);a=a.reaction;b=b.getContext();var c=n.get(b),d=c.feedbackTarget;c=c.isComment;var e=o.get(d).getData();if(e.viewerreaction===a)return;if(c){c=b.getAttribute("data-uri")||b.getAttribute("href");c=s.getURI(c);c.addQueryData("reaction_comment_id",d.split("_")[1]);c.addQueryData("viewer_reaction",a);s.send(d,r.getReactionDataForComment(e,a),c)}else{c=e.actor_for_post;c!==0&&!c&&(c=null);var f=p.bySigil(b,"story-div");s.send(d,r.getReactionData(e,a),x.getURIBuilder().getURI(),(e={},e[g.PARAMETER_ACTOR]=c,e.$1=f?n.get(f).linkdata:null,e.ft_ent_identifier=d,e.reaction_type=a,e.feedback_source=new w(b.getAttribute("data-uri")).getQueryData().feedback_source,e),r.getConfigForBackgroundRetry(d))}};I.prototype.removeActive=function(){"use strict";var a=this.active;if(a){this.active=null;a.removeAttribute("data-active");a=a.parentElement;a&&a.classList.remove("mReactionInAnimation")}};I.prototype.applyMultilineFlyout=function(){"use strict";__p&&__p();var a=this.flyout,b=a.getContext();b=p.bySigil(b,"mufi-inline");a=a.getContentRoot();b=k.scry(b,"div","reactions-bling-bar");if(b.length==0){j.addClass(a,"_5xu1");return}b=b[0].getBoundingClientRect().height;b>E?j.addClass(a,"_5xu0"):b<E?j.addClass(a,"_5xu1"):(j.removeClass(a,"_5xu0"),j.removeClass(a,"_5xu1"))};I.prototype.showOverlay=function(a){"use strict";var b=this.overlay;if(b&&a){j.show(a);for(var c in b){var d=b[c];d!=a&&d!=b.container&&j.hide(d)}}};I.prototype.log=function(a){"use strict";var b=o.get(n.get(this.flyout.getContext()).feedbackTarget).getData(),c=b.ft_ent_identifier;b=b.viewerreaction;var d=this.timing,e=d.touchEndTime,f=d.touchStartTime;d=d.shownTime;if(!e||!f||!d)return;e=e-f;h.log("UserReactionsLoggerConfig",{feedback_id:c,final_reaction:a.finalReaction||b,initial_reaction:b,"interface":"mTouch",long_press_duration:e>0?e:0,time_spent:Date.now()-d,via_scrubbing:a.viaScrubbing})};I.prototype.createUFIOverlay=function(){"use strict";__p&&__p();var a=this.flyout.getContext(),b=n.get(a),c=b.feedbackTarget;b=b.isComment;c=o.get(c).getData().supportedreactions||D;var d=document.createElement("div");d.style.display="none";d.className="_403o";c=Math.round(c.length*1.3);for(var e=0;e<c;++e){var f=document.createElement("div");f.className="_403p";d.appendChild(f).className="_403p"}f=document.createElement("div");f.style.display="none";f.className="_5xu2";f.textContent=A._("Tap to Pick Your Reaction").toString();e=document.createElement("div");e.style.display="none";e.className="_5xu2";e.textContent=A._("Slide Finger Across").toString();c=document.createElement("div");c.style.display="none";c.className="_5xu2";c.textContent=A._("Release to Cancel").toString();var g=document.createElement("div");g.className="_403n";b&&j.addClass(g,"_31ru");g.appendChild(d);g.appendChild(c);(this.isUpdatedDock||b)&&(g.appendChild(f),g.appendChild(e));b=p.bySigil(a,"ufi-inline-actions");b||(b=p.bySigil(a,"ufi-inline-comment-actions"));b?(b.insertBefore(g,b.firstChild),this.overlay={container:g,tap:f,slide:e,release:c,dots:d}):this.overlay=null};I.prototype.removeUFIOverlay=function(){"use strict";var a=this.overlay;if(a){a=a.container;a.parentNode&&a.parentNode.removeChild(a);this.overlay=null}};I.prototype.setSupported=function(){"use strict";var a=n.get(this.flyout.getContext());a=o.get(a.feedbackTarget).getData().supportedreactions||D;var b=this.reactionElements;for(var c=0,d=b.length;c<d;++c){var e=b[c],f=n.get(e);f=f.reaction;j.conditionShow(e,a.indexOf(f)>=0)}};I.prototype.setNUXTooltip=function(a){"use strict";this.nuxTooltip=a};var J;e.exports={init:function(a){J=new I(a)},addAnchor:function(a){if(J){J.addAnchor(a);return}H.push(a)},initNUX:function(a){G=a,J&&J.setNUXTooltip(a)}}}),null);
__d("FRXFunnelLoggerUtil",["CurrentUser"],(function(a,b,c,d,e,f,g){a={getSessionKey:function(a){var b=g.getAccountID();if(a==null)return b;else return b+"#"+a}};e.exports=a}),null);
__d("FRXFunnelTag",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ENTRY_POINT:"entry_point",IS_FROM_TAG_SEARCH:"is_from_tag_search",IS_FRX:"is_frx",IS_NFX:"is_nfx",IS_NT:"is_nt",IS_REPORTED:"is_reported",OBJECT_ID:"object_id",SURFACE:"surface",TAG_EXPERIMENT_GROUP:"tag_experiment_group"})}),null);
__d("WebFunnelLogger",["Banzai","invariant"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();function a(a){this.$2={},this.$3={},this.$4="web_funnel_logging",this.$5(),this.$1.funnel_definition=a}a.prototype.log=function(){this.$1.funnel_payload=JSON.stringify(this.$2),this.$1.action_payload=JSON.stringify(this.$3),g.post(this.$4,this.$1,g.BASIC),this.$5()};a.prototype.logWithEventTime=function(a){this.$1.event_time=a/1e3,this.$6(),g.post(this.$4,this.$1,g.BASIC),this.$5()};a.prototype.logVital=function(){this.$6(),g.post(this.$4,this.$1,g.VITAL),this.$5()};a.prototype.logVitalWithEventTime=function(a){this.$1.event_time=a/1e3,this.$6(),g.post(this.$4,this.$1,g.VITAL),this.$5()};a.prototype.$6=function(){this.$1.funnel_payload=JSON.stringify(this.$2),this.$1.action_payload=JSON.stringify(this.$3),this.$1.action!==null||h(0,5829),this.$1.session_key!==null||h(0,5830)};a.prototype.$5=function(){this.$1={};this.$2={};this.$3={};return this};a.prototype.setAction=function(a){this.$1.action=a;return this};a.prototype.addActionPayload=function(a,b){this.$3[a]=b;return this};a.prototype.setActionTag=function(a){this.$1.action_tag=a;return this};a.prototype.addFunnelPayload=function(a,b){this.$2[a]=b;return this};a.prototype.setFunnelTags=function(a){this.$1.funnel_tags=a;return this};a.prototype.setSecondaryOrder=function(a){this.$1.secondary_order_value=a;return this};a.prototype.setSessionKey=function(a){this.$1.session_key=a;return this};a.prototype.markStart=function(){this.$1.session_marker="start";return this};a.prototype.markEnd=function(){this.$1.session_marker="end";return this};a.prototype.setUserId=function(a){this.$1.user_id=a;return this};a.prototype.setIsEmployee=function(a){this.$1.is_employee=a;return this};e.exports=a}),null);
__d("MFRXWebFunnelLogger",["Event","FRXFunnelLoggerUtil","FRXFunnelTag","Stratcom","WebFunnelLogger"],(function(a,b,c,d,e,f,g,h,i,j,k){__p&&__p();var l={startcomListeners:[],get:function(a,b){b=h.getSessionKey(b);return new k("FRXMSiteFunnelDefinition").setAction(a).setSessionKey(b)},createFunnelTagList:function(a,b,c){return[i.ENTRY_POINT+": "+a,i.IS_FRX+": true",i.OBJECT_ID+": "+b,i.SURFACE+": "+c]},attachClickLogging:function(a,b,c,d,e){g.listen(a,"click",function(a){a=l._getLoggerForXHP(b,c,d,e);a.log()})},removeStratcomListeners:function(){__p&&__p();for(var a=l.startcomListeners,b=Array.isArray(a),c=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var d;if(b){if(c>=a.length)break;d=a[c++]}else{c=a.next();if(c.done)break;d=c.value}d=d;d.remove()}l.startcomListeners=[]},attachStratcomClickLogging:function(a,b,c,d,e){a=j.listen("click",a,function(event){var a=l._getLoggerForXHP(b,c,d,e);a.log();j.removeCurrentListener()});l.startcomListeners.push(a)},logEvent:function(a,b,c,d){a=l._getLoggerForXHP(a,b,c,d);a.log()},_getLoggerForXHP:function(a,b,c,d){__p&&__p();a=l.get(a,b);if(c!=null){b=Object.entries(c);for(var c=0;c<b.length;c++){var e=b[c],f=e[0];e=e[1];a.addActionPayload(f,e)}}d!=null&&a.setFunnelTags(d);return a}};e.exports=l}),null);
__d("MAsyncPageLoadWithGraphSearch",["Stratcom"],(function(a,b,c,d,e,f,g){var h="graph-search-entry-point";a={pageLoad:function(a){g.invoke("setSearchText",h,{title:a.searchTitle||""}),g.invoke("setCurrentProfileID",h,{profileID:a.currentProfileID})}};e.exports=a}),null);
__d("MSiteMessagingEntryPoint",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({EVENT_USER_LIST_MESSAGE_BUTTON:"event_user_list_message_button",FB_PAGE_CTA_PAGE_PRIMARY_BUTTON:"fb_page_cta_page_primary_button",JEWEL:"jewel",JEWEL_THREAD:"jewel_thread",JEWEL_COMPOSE:"jewel_compose",JEWEL_SEE_ALL_MESSAGES:"jewel_see_all_messages",THREAD_LIST_NEW_MESSAGE:"thread_list_new_message",THREAD_LIST_NEW_GROUP:"thread_list_new_group",THREAD_LIST_THREAD:"thread_list_thread",PROFILE_MESSAGE_BUTTON:"profile_message_button",PAGE_PROFILE_MESSAGE_BUTTON:"page_profile_message_button",PAGE_MESSAGE_PRIMARY_CTA_BUTTON:"page_message_primary_cta_button",DESTINATION_ADS_CLICK_TO_MESSENGER:"destination_ads_click_to_messenger",SPACES_VR_ONLINE_MESSAGE_BUTTON:"spaces_vr_online_message_button",FEED_STORY_SHARE_AS_MESSAGE:"feed_story_share_as_message",REACTOR_LIST_MESSAGE_BUTTON:"reactor_list_message_button",FEED_PAGE_POST_MORE_OPTIONS:"feed_page_post_more_options"})}),null);
__d("ShareAudience",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=Object.freeze({EVERYONE:"everyone",FRIENDS:"friends",FOF:"fof",SELF:"self",CUSTOM:"custom",PAGE:"page",GROUP:"group",MESSENGER:"messenger",FRIEND_TIMELINE:"friend_timeline",UNKNOWN:"unknown",fromPrivacyString:function(a){switch(a){case null:case void 0:case g.UNKNOWN:return g.UNKNOWN;case"286958161406148":return g.SELF;case"300645083384735":return g.EVERYONE;case"368493386561757":case"275425949243301":return g.FOF;case"123780391104836":case"291667064279714":return g.FRIENDS;default:return g.CUSTOM}}});e.exports=g}),null);
__d("ShareMenuEventShareType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({SHARE_FLOW_STARTED:"share_flow_started",SHARE_OPTION_SELECTED:"share_option_selected",SHARE_CREATED:"share_created",SHARE_ABANDONED:"share_abandoned",SHARE_FAILURE:"share_failure"})}),null);
__d("ShareModeConst",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({SELF_PAGE:"selfpage",PAGE:"page",SELF_POST:"self",FRIEND:"friend",GROUP:"group",FUNDRAISER:"fundraiser",ALBUM:"album",MESSAGE:"message",ONE_CLICK:"oneclick",EVENT:"event",UNKNOWN:"unknown",SILENT_DISCO:"silent_disco",OWN_POST:"own"})}),null);
__d("ShareSignificance",[],(function(a,b,c,d,e,f){"use strict";var g=Object.freeze({SIGNIFICANT:"significant",NOT_SIGNIFICANT:"not_significant",NO_TEXT:"no_text",calculate:function(a){if(!a)return g.NO_TEXT;var b=new Set();(a||"").toLowerCase().split(" ").forEach(function(a){return b.add(a)});return b.size>5?g.SIGNIFICANT:g.NOT_SIGNIFICANT}});e.exports=g}),null);
__d("MFeedShareAnalytics",["MSiteMessagingEntryPoint","MSiteMessengerDiodeTypedLogger","ShareAudience","ShareMenuEventShareType","ShareMenuTypedLogger","ShareModeConst","ShareSignificance","Stratcom"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){"use strict";__p&&__p();var o="feed_share_action";a={_listeners:[],_initShareMode:null,_currentShareMode:null,_entryPointFromShareMode:function(a){switch(a){case l.FRIEND:return"share_to_friend_timeline";case l.GROUP:return"share_to_group";case l.MESSAGE:return"send_in_message";case l.ONE_CLICK:return"share_now";case l.OWN_POST:case l.SELF_POST:return"write_post";case l.PAGE:case l.SELF_PAGE:return"page";default:return"unknown"}},init:function(){this._cleanupListeners(),this._registerListeners(),this._initShareMode=null,this._currentShareMode=null},_onTearDown:function(){this._currentShareMode&&this.onShareAbandoned()},_registerListeners:function(){this._listeners.push(n.listen("m:sharemode:selected",null,function(a){a=a.getData();a&&a.sharemode&&(this._currentShareMode=a.sharemode)}.bind(this))),this._listeners.push(n.listen("m:page:unload",null,function(){this._onTearDown()}.bind(this)))},_cleanupListeners:function(){this._onTearDown();while(this._listeners.length>0){var a=this._listeners.pop();a&&a.remove&&a.remove()}},onMenuOpened:function(){this._initShareMode=null,this._currentShareMode=null,new k().setName(o).setFbShareType(j.SHARE_FLOW_STARTED).log()},onMenuOptionSelected:function(a){this._initShareMode=a;this._currentShareMode=a;var b=this._entryPointFromShareMode(a);new k().setName(o).setFbShareType(j.SHARE_OPTION_SELECTED).setFbEntryPoint(b).log();a===l.MESSAGE&&new h().setVC().setMessagingEntryPoint(g.FEED_STORY_SHARE_AS_MESSAGE).log()},_getShareTextArea:function(){var a=document.getElementById("share_msg_input");return a instanceof HTMLTextAreaElement?a:null},_getAudienceFromCurrentState:function(){__p&&__p();var a=document.getElementsByName("privacyx")[1];if(!a||!(a instanceof HTMLInputElement))return i.UNKNOWN;switch(this._currentShareMode){case l.FRIEND:return i.FRIEND_TIMELINE;case l.GROUP:return i.GROUP;case l.MESSAGE:return i.MESSENGER;case l.PAGE:case l.SELF_PAGE:return i.PAGE;case l.SELF_POST:case l.OWN_POST:return i.fromPrivacyString(a.value);default:return l.UNKNOWN}},onShareAbandoned:function(){__p&&__p();var a=null,b=null,c=null;if(this._initShareMode){a=this._entryPointFromShareMode(this._initShareMode);var d=this._getShareTextArea();d&&(b=m.calculate(d.value));c=this._getAudienceFromCurrentState()}new k().setName(o).setFbShareType(j.SHARE_ABANDONED).setFbEntryPoint(a).setFbAudience(c).setFbSignificance(b).log();this._initShareMode=null;this._currentShareMode=null}};e.exports=a}),null);
__d("MExposeMore",["CSS","DOM","Stratcom"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=[];function k(){while(j.length)j.pop().remove()}var l="expose",m=!1,n=!0,o=!1;i.listen("click",[l,"more"],function(event){var a=event.getNode(l);g.conditionClass(a,"text_exposed",n);o?(n&&event.prevent(),n=!n):event.prevent()});a={init:function(a){if(m)return;o=a.seeMoreSwitchExpandOnly;m=!0},showMessageSuffixOnClick:function(a,b){if(b.children.length!==0){j.length||j.push(i.listen("m:page:unload",null,k));a=h.scry(a,"*","more")[0];a&&j.push(h.listen(a,"click",null,function(event){g.show(b),event.prevent()}))}}};e.exports=a}),null);
__d("MScrollPositionSaver",["MViewport","Stratcom","Vector","$","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g,h,i,j,k){__p&&__p();var l,m={getElementPositionY:function(a){return i.getPos(a).y},getScrollPosition:function(a){__p&&__p();var b=j("root");l=a;a=a?a.scrollTop:g.getScrollTop();if(a<g.getHeight()/3)return{element:document.body,hiddenRatio:0};do{var c=[];for(var d=0;d<b.childNodes.length;d++){var e=b.childNodes[d];if(e.nodeType!==1)continue;var f=document.defaultView.getComputedStyle(e,"");f.display!="none"&&f.visibility!="hidden"&&c.push(e)}if(!c.length)break;f=a;c[0].offsetParent&&(f-=m.getElementPositionY(c[0].offsetParent));e=0;d=c.length-1;while(e<=d){var i=Math.floor((e+d)/2);c[i].offsetTop<=f?e=i+1:d=i-1}b=c[Math.max(d,0)]}while(!h.hasSigil(b,"marea"));i=Math.max(a-m.getElementPositionY(b),0);f=0;b.offsetHeight&&(f=Math.min(i/b.offsetHeight,1));return{element:b,hiddenRatio:f}},setScrollPosition:function(a,b){var c=a.element.offsetHeight*a.hiddenRatio;a=m.getElementPositionY(a.element)+parseInt(c,10);c=b?b.scrollTop:g.getScrollTop();(a>0||c>0)&&(b?b.scrollTop=a:g.scrollTo(0,a))}},n=null,o=null,p=g.isLandscape(),q=!1,r=!1;function s(){var a=l?l.scrollTop:g.getScrollTop();a!=n&&(o=m.getScrollPosition(l),n=a);r=!1}h.listen("scroll",null,function(a){if(a.getType()=="scroll"&&q)return;r||(k(s,50),r=!0)});h.listen("resize",null,function(){q=!0,k(function(){var a=g.isLandscape();o&&p!==a&&(p=a,m.setScrollPosition(o,l),s());q=!1},200)});e.exports=m}),null);
__d("ModalDialogURIWhitelistForNavigationLogging",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ADD_FEATURE_PHOTOS:"/profile/intro/edit/photos/",DESCRIBE_WHO_YOU_ARE:"/profile/intro/edit/bio/"})}),null);
__d("MModalDialog",["CSS","DOM","MHistory","MLinkHack","ModalDialogURIWhitelistForNavigationLogging","MPageCache","MPageController","MRequest","MRequestGateway","MRequestTypes","MScrollPositionSaver","MURI","MViewport","ScriptPath","Stratcom","URI","$","fbt","ge","gkx","setTimeoutAcrossTransitions","FWLoader"],(function(a,b,c,d,e,f,g,h,i,aa,ba,j,ca,da,ea,fa,k,l,m,n,o,p,q,ga,r,ha,ia){__p&&__p();var s=b("FWLoader").FW,ja="dialog-ignore-subtree-links",t="mds",u="mdf",v="mdp",w="fw:modal-dialog:close",x="m:modal-dialog:step-change",y="m:modal-dialog:initial-load",z="m:modal-dialog:close",A="m:modal-dialog:will-close",B,C=!1,D=!1,E=!1,F=null,G,H,I,J,K,L,M=[],N=null,O=null,P;function a(){return D}function c(a,b,c){O=b,Q(a,c)}function Q(a,b,c,d){__p&&__p();d===void 0&&(d={});a instanceof p&&(a=a.toString());Aa(a)&&n.openOverlayView(a);if(window.FW_ENABLED){b&&o.listen(w,null,function(a){o.removeCurrentListener(),b&&b(a.getData())});var e=encodeURIComponent(a);s.openInNewWebView("fb://facewebmodal/f?href="+e);return}if(D)throw new Error("A modal dialog is already open.");h.hide(Z());h.setContent(xa(),null);D=!0;W(!0);F=b;c?U(c):U(ga._("Loading..."));ma(!0);L=k.getScrollPosition();S(a,babelHelpers["extends"]({},d,{firstStep:!0}));h.hide(q("viewport"));h.show(B);m.scrollToHeader();K=m.getUseableHeight()-q("mDialogHeader").offsetHeight}function R(a){a===void 0&&(a={});if(window.FW_ENABLED){s.broadcastEvent(w,null,a,1);s.dismissModalDialog(!0);return}Aa(H)&&n.closeOverlayView(H);!!a&&a.goBack===!0?(N=oa.bind(null,a),window.history.go(-1)):oa(a)}function S(a,b){b===void 0&&(b={});a instanceof p&&(a=a.toString());b.dontPushState||ka(O,a,b);if(b.hideNavBar){b=r("mDialogHeader");b!=null&&h.hide(b)}va(a)}function ka(a,b,c){__p&&__p();c===void 0&&(c={});G=b||G;M.push(m.getScrollPos());if(!window.FW_ENABLED){a=a||i.getPath();b=new l(a).addQueryData(i.SOFT_STATE_KEY).addQueryData(t,G.toString());a===O&&(ha("726410")&&(b=b.addQueryData(v,1)));c.firstStep?b.addQueryData(u,1):b.addQueryData(u,void 0);i.pushState(b.toString())}}function T(){o.invoke(x);window.FW_ENABLED?ra(!0):(E=!0,window.history.go(-1));if(M.length){var a=M.pop();setTimeout(function(){m.scrollTo(a.x,a.y)})}}function U(a){h.setContent(I,a)}function la(){return I.innerText||null}function V(a){g.conditionClass(q("modalDialog"),"spin",a)}function ma(a){h.scry(q("mDialogHeader"),"button").forEach(function(b){b.disabled=!a})}function d(a){na(),D=!0,a instanceof p&&(a=a.toString()),H=a,o.invoke(x)}function na(){__p&&__p();var a=q("modalDialog");if(B===a)return;B=a;o.addSigil(B,"context-layer-root");I=h.find(a,"div","dialog-title");P=h.listen(a,"click","dialog-cancel-button",function(a){a.kill(),R({canceled:!0,goBack:!0})});h.listen(a,"click","dialog-back-button",function(a){a.kill(),T()});h.listen(a,"click",null,function(a){__p&&__p();var b=a.getNode("tag:a");if(!b)return;if(a.getPrevented())return;var c=a.getNode(ja);if(b.getAttribute("rel")=="ignore"||c)return;a.kill();if(o.hasSigil(b,"cancel-link")){T();return}aa.remove(b);c=b.getAttribute("href");ia(S.bind(null,c),200)});window.FW_ENABLED?J=[]:o.listen("m:history:change",null,pa);o.listen("m:page:unload",null,function(){!window.FW_ENABLED&&D&&R({canceled:!0})})}function oa(a){__p&&__p();o.invoke(A);h.hide(B);var b=r("mDialogHeader");b!=null&&h.show(b);h.show(q("viewport"));L&&k.setScrollPosition(L);F&&F(a);o.invoke(x);h.setContent(q("modalDialogView"),null);o.invoke(z);D=!1}function pa(a){__p&&__p();var b=new p(a.getData().path).getQueryData(),c=b[t];if(N!==null){if(c)a.kill(),window.history.go(-1);else{var d=N;N=null;d&&d()}return}if(!D){c&&!b[v]&&(a.kill(),window.history.go(-1));return}a.prevent();if(!c){R({canceled:!0});return}W(!!b[u]);if(c===G.toString())return;ea.stopAllRequests();G=c;if(!E&&j.isPageCached(c,ca.HISTORY_EXPIRE_MS)){d=j.getCachedPage(c);d.listen("complete",Y.bind(this,c));d.process()}else E=!1,va(c)}function e(a){this._customData=a}function qa(){return this._customData}function ra(a){if(J.length===0)return;var b=J.pop();J.length===0&&W(!0);a?S(b.uri):(h.setContent(q("modalDialogView"),b.content),wa(b.rightButtons),U(b.title),Y(b.uri))}function W(a){g.conditionClass(q("mDialogHeader"),"firstStep",a),C=a}function X(){return C}function sa(){h.hide($()),h.show(Z())}function ta(){h.show($()),h.hide(Z())}function ua(){h.hide($()),h.hide(Z())}function va(a){__p&&__p();function b(a){var b=document.createDocumentFragment();while(a.firstChild)b.appendChild(a.removeChild(a.firstChild));return b}V(!0);X()||o.invoke(x);window.FW_ENABLED&&(J.push({content:b(q("modalDialogView")),uri:H,title:la(),rightButtons:b(q("modalDialogHeaderButtons"))}),W(!1));b=new da(new l(a).toString()).setType(fa.TRANSITION);b.setMethod("GET");b.listen("postprocess",function(b){window.FW_ENABLED||j.setCachedPage(a,b.response),Y(a)});b.send()}function Y(a){window.FW_ENABLED||(q("modalDialogView").style.minHeight=K+"px"),V(!1),H=a,X()&&o.invoke(y,null,{uri:a}),o.invoke("m:ajax:complete")}function wa(a){h.setContent(xa(),a)}function xa(){return q("modalDialogHeaderButtons")}function Z(){return h.find(B,"*","dialog-cancel-button")}function $(){return h.find(B,"*","dialog-back-button")}function ya(a){a?h.replace(Z(),a):h.hide(Z())}function za(a){D?S(a):Q(a)}function Aa(a){return Object.values(ba).indexOf(a)>-1}function Ba(){P.remove()}f.init=na;f._replaceButtons=wa;f._replaceCancelButton=ya;f.STEP_CHANGE_EVENT=x;f.STEP_KEY=t;f.INITIAL_LOAD_EVENT=y;f.CLOSE_EVENT=z;f.WILL_CLOSE_EVENT=A;f.close=R;f.getIsFirstStep=X;f.goBack=T;f.initForFaceweb=d;f.isOpen=a;f.load=S;f.loadOrOpen=za;f.open=Q;f.pushState=ka;f.setSpinnerVisibility=V;f.setTitle=U;f.setHeaderButtonsEnabledState=ma;f.openWithPermalinkURI=c;f.showCancelButton=sa;f.removeCancelButtonClickListener=Ba;f.showBackButton=ta;f.hideBackAndCancelButtons=ua;f.setCustomData=e;f.getCustomData=qa}),null);
__d("MCompositionConfigFields",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({OPENED_AT:"opened_at",SESSION_ID:"csid",ACTION:"action",COMPOSER_TITLE:"composertitle",COMPOSER_TYPE:"composer_type",INPUT_NAME:"inputname",PLACEHOLDER:"placeholder",BUTTON_TEXT_SUBMIT:"button_text_submit",TARGET_ID:"targetid",CANCEL_CONFIRMATION_MESSAGE:"cancel_confirm_message",POST_ID:"postid",DISABLE_MENTIONS:"disable_mentions",DISABLE_OG_TAG:"disable_og_tags",DISABLE_OG_TAG_PREVIEW:"disable_og_tags_preview",DISABLE_PEOPLE_TAGS:"disable_people_tags",DISABLE_PHOTOS:"disable_photos",DISABLE_LINK:"disable_link",DISABLE_ALBUM:"disable_album",DISABLE_ALBUM_INFO:"disable_album_info",DISABLE_PLACE_TAG:"disable_place_tag",DISABLE_PRIVACY:"disable_privacy",DISABLE_VOICE_SELECTOR:"disable_voice_selector",DISABLE_SLIDESHOW:"disable_slideshow",ACTOR_ID:"actor_id",DISABLE_SUBMIT_REQUEST:"disable_submit_request",FORCE_ASYNC:"forceasync",SYNC_SUBMIT:"syncsubmit",MAX_PHOTOS_ALLOWED:"max_photos_allowed",PIN_PLACE:"pinplace",PIN_PRIVACY:"pinprivacy",SHOW_POST_TYPE_SELECTOR:"showposttypeselector",CONTEXTUAL_MESSAGE:"contextualmessage",SKIP_FOCUS:"skip_focus",WITH_LINK_PROMPT:"withlinkprompt",LOGGING_SURFACE:"logging_surface"})}),null);
__d("MCompositionShareFields",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ID:"ID",APP_ID:"APP_ID",INTERNAL_EXTRA:"INTERNAL_EXTRA",FEEDBACK_SOURCE:"FEEDBACK_SOURCE",DISABLED_LINKS:"DISABLED_LINKS",SHARE_URI:"SHARE_URI",LINK_NO_CHANGE:"LINK_NO_CHANGE"})}),null);
__d("MShareFlyout",["CSS","DOM","MComposerEntry","MComposerTypes","MComposition","MCompositionConfigFields","MCompositionShareFields","MCompositionStoreID","MFeedShareAnalytics","MLegacyDataStore","MModalDialog","MParent","MRequest","MViewport","NTAnnounceSubscription","ShareModeConst","Stratcom","URI","Vector","clearTimeout","cx","fbt","ge","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g,h,aa,ba,ca,i,j,k,l,m,n,o,da,p,ea,q,r,s,t,fa,ga,u,ha,v){"use strict";__p&&__p();var w="mufi-inline",x="share-one-click-button",y="share-post-one-click-button",ia="share-with-message-button",ja="share-in-a-private-message-button",z="oneClickShareResult",A=6e3,ka="share-to-page-button",la="page_share_content_action",ma="/a/sharer.php",B="/sharer-dialog.php",na="share-in-a-group-button",C,D,E,F,G,H,I,J={},K={},L=[],M,N,O,P,Q,R,S;function a(a,b,c,d,e){__p&&__p();if(C)return;Z();M=b;C=a;D=a.getRoot();N=c;b=d||{};Q=b.bluebarNoOverlapBuffer;c=d||{};R=c.useSpatialNavInKaiOS;n.init();l.init();sa(e);R&&(g.addClass(a.getContentRoot(),"_7767"),g.addClass(a.getContentRoot().children[0],"_7768"))}function b(a){return}function T(a){l.onMenuOptionSelected(a),S=!0}function U(a){R&&C.hide(),n.isOpen()?n.load(a):n.open(a,oa)}function oa(a){!!a&&a.canceled&&l.onShareAbandoned()}function V(){var a=new da(ma);a.setMethod("POST");a.addData({m:q.ONE_CLICK,privacyx:M,sid:F,shareID:F,fs:G,fr:H,internal_preview_image_id:E,should_share_post:P,direct:!0,_ft_:I});a.send();T(q.ONE_CLICK);C.hide()}function pa(){__p&&__p();if(N){var a={};a[j.ID]=F;a[j.FEEDBACK_SOURCE]=G;a[j.FEEDBACK_REFERRER]=H;var b={};b[i.COMPOSER_TYPE]=ba.SHARE;b[i.COMPOSER_TITLE]=u._("Share");b[i.CONTEXTUAL_MESSAGE]=u._("Share on your timeline");b[i.PLACEHOLDER]=u._("Write something...");b[i.DISABLE_PHOTOS]=!0;var c=p.getScrollTop();aa.invoke(new ca().setStoreData(k.CONFIG,b).setStoreData(k.SHARE,a))["finally"](function(){return p.scrollTo(0,c)})}else U(new s(B).setQueryData({fs:G,fr:H,sid:F,_ft_:I,internal_preview_image_id:E}).toString()),T(q.SELF_POST),C.hide()}function W(a){U(new s(B).setQueryData({fs:G,fr:H,m:a,sid:F,_ft_:I,internal_preview_image_id:E,selected_page_id:O}).toString()),T(a),C.hide()}function qa(){U(new s(B).setQueryData({fs:G,fr:H,m:q.MESSAGE,sid:F,u:window.location.href,internal_preview_image_id:E}).toString()),T(q.MESSAGE),C.hide()}function X(a){a&&h.hide(a)}function Y(a){a&&h.show(a)}function ra(a,b){b=b&&b.is_comment_share;var c=h.scry(a,"a",y)[0];a=h.scry(a,"a",x)[0];b&&!J[F]?(X(c),X(a)):P?(Y(c),X(a)):(Y(a),X(c))}function sa(a){__p&&__p();L=[C.addListener("beforeshow",function(){__p&&__p();if(Q!=null){var b=p.getScrollTop();b<Q&&ha("header")?C.setAutoflipTopOffset(Q-b):C.setAutoflipTopOffset(0)}b=C.getContext();var c=m.get(b);P=c.reshare_post;F=c&&c.share_id;G=c&&c.feedback_source;H=c&&c.feedback_referrer;E=c&&c.internal_preview_image_id;var d=o.bySigil(b,"story-div");a?I=a:I=d?m.get(d).linkdata:null;F&&(J[F]=ta(b));l.onMenuOpened();S=!1;ra(D,c)}),C.addListener("hide",function(){S||l.onShareAbandoned()}),r.listen("click",x,V),r.listen("click",y,V),r.listen("click",ia,pa),r.listen("click",ja,qa),r.listen("click",ka,function(){W("page")}),r.listen("click",na,function(){W("group")}),r.listen("m:page:unload",null,Z),ea.subscribe(la,function(a){a=JSON.parse(a),F=a.content_id,O=a.page_id,W("page")})]}function Z(){C=null;for(var a in K)fa(K[a]);K={};while(L.length){var b=L.pop();b&&b.remove&&b.remove()}}function ta(a){if(!a||a===document||a instanceof DocumentFragment)return null;return r.hasSigil(a,w)?a:o.bySigil(a,w)}function $(a,b){var c=h.scry(a,"div",z);c[0]&&h.remove(c[0]);c=h.create("div",{className:"_4_m7"},b);r.addSigil(c,z);h.appendContent(a,c);return c}function c(b,a){__p&&__p();var c=J[a];delete J[a];if(!c)return;var d=$(c,b);b=t.getPos(c);c=t.getDim(c).y;var e=p.getScrollTop(),f=p.getScrollHeight();(b.y<e||b.y+c>e+f)&&p.scrollTo(b.x,b.y-250);K[a]=v(function(){delete K[a],h.remove(d)},A)}function d(b,a){var c=J[a];delete J[a];if(!c)return;if(t.getPos(c).y>=p.getScrollTop()){var d=$(c,b);K[a]=v(function(){delete K[a],t.getPos(c).y>=p.getScrollTop()&&h.remove(d)},A)}}f.init=a;f.initMisinfo=b;f.onSuccess=d;f.onFailure=c}),null);
__d("MUFIComposerFocus",["DOM","MLegacyDataStore","MParent","Parent","Stratcom"],(function(a,b,c,d,e,f,g,h,i,j,k){"use strict";__p&&__p();var l="mufi-composer-focus",m;function n(a){var b=a.parentNode,c=[];while(b)c.unshift(a),a=b,b=a.parentNode;return c}function o(a,b){var c=Math.min(a.length,b.length)-1;for(var c=c;c>=0;c--)if(a[c]===b[c])return c;return-1}function p(a){__p&&__p();if(!a)return null;var b=i.bySigil(a,"story-div")||i.bySigil(a,"snowflake-root")||i.bySigil(a,"notes-root");if(!b)return null;b=g.scry(b,"*","mufi-composer").filter(function(a){return!i.bySigil(a,"m-inline-reply-composer")});if(b.length===1)return b[0];var c=n(a);a=b.reduce(function(a,b,d){d=n(b);d=o(c,d);return d>=a[0]?[d,b]:a},[-1,null]);return a[1]}function q(event){var a=event.getNode(l);if(!(a instanceof HTMLElement))return;a=p(a);a&&(event.prevent(),a.focus())}function a(a){if(!a||!m)return!1;a=k.hasSigil(a,l)?a:i.bySigil(a,l);return!!p(a)}function r(event){__p&&__p();var a=event.getNode(l);if(!(a instanceof HTMLElement))return;var b=p(a);if(b){var c=i.bySigil(a,"touchable");c&&(h.get(c).nativeClick=!0);c=j.byTag(a,"a");c instanceof HTMLAnchorElement&&(c.href="#"+g.uniqID(b))}}function b(){m||(k.listen("touchstart",l,r),k.listen("click",l,q),m=!0)}e.exports={init:b,isInitialized:function(){return m},isComposerFocusTrigger:a}}),null);
__d("VirtualCursorStatus",["Event","UserAgent","emptyFunction","setImmediate"],(function(a,b,c,d,e,f,g,h,i,j){__p&&__p();var k=null,l=null;function m(){l||(l=g.listen(window,"blur",function(){k=null,n()}))}function n(){l&&(l.remove(),l=null)}function a(event){k=event.keyCode,m()}function b(){k=null,n()}if(typeof window!=="undefined"&&window.document&&window.document.createElement){c=document.documentElement;if(c)if(c.addEventListener)c.addEventListener("keydown",a,!0),c.addEventListener("keyup",b,!0);else if(c.attachEvent){d=c.attachEvent;d("onkeydown",a);d("onkeyup",b)}}var o={isKeyDown:function(){return!!k},getKeyDownCode:function(){return k}},p=!1,q=!1,r=null,s=!1;function t(event){var a=new Set(),b=o.isKeyDown(),c=event.clientX,d=event.clientY,e=event.isPrimary,f=event.isTrusted,g=event.offsetX,i=event.offsetY,j=event.pointerType,k=event.mozInputSource,l=event.WEBKIT_FORCE_AT_MOUSE_DOWN,m=event.webkitForce,n=event.target,r=n.clientWidth;n=n.clientHeight;c===0&&d===0&&g>=0&&i>=0&&q&&f&&k==null&&a.add("Chrome");p&&q&&!b&&m!=null&&m<l&&g===0&&i===0&&k==null&&a.add("Safari-edge");c===0&&d===0&&g<0&&i<0&&q&&k==null&&a.add("Safari-old");!p&&!q&&b&&e===!1&&f&&j===""&&c===0&&d===0&&g===0&&i===0&&k==null;!p&&!q&&!b&&f&&h.isBrowser("IE >= 10")&&k==null&&(c<0&&d<0?a.add("IE"):(g<0||g>r)&&(i<0||i>n)&&a.add("MSIE"));k===0&&f&&a.add("Firefox");return a}function u(){p=!0,j(function(){p=!1})}function v(){q=!0,j(function(){q=!1})}function w(event,a){r===null&&(r=t(event));s=r.size>0;var b=event.target.getAttribute("data-accessibilityid")==="virtual_cursor_trigger";a(s,r,b);j(function(){s=!1,r=null})}f={isVirtualCursorTriggered:function(){return s},add:function(a,b){b===void 0&&(b=i);var c=function(event){return w(event,b)};a.addEventListener("click",c);var d=g.listen(a,"mousedown",u),e=g.listen(a,"mouseup",v);return{remove:function(){a.removeEventListener("click",c),d.remove(),e.remove()}}}};e.exports=f}),null);
__d("AccessibilityWebVirtualCursorClickLogger",["AccessibilityWebAssistiveTechTypedLogger","VirtualCursorStatus"],(function(a,b,c,d,e,f,g,h){a={init:function(a){a.forEach(function(a){h.add(a,this._log)}.bind(this),this)},_log:function(a,b,c){c===void 0&&(c=!1),a&&new g().setIndicatedBrowsers(b).setIsVirtualCursorAction(c).log()}};e.exports=a}),null);
__d("VisualCompletionGating",["requireCond","cr:729414"],(function(a,b,c,d,e,f,g,h){"use strict";e.exports=h}),null);
__d("FRXDiglossiaQE",["Event","FRXDiglossiaExperiment","QE2Logger"],(function(a,b,c,d,e,f,g,h,i){var j="frx_diglossia_experiments",k={maybeExposeOnClick:function(a){g.listen(a,"click",function(a){k.maybeExpose()})},maybeExpose:function(){h.isEligibleForDiglossia&&k.expose()},expose:function(){i.logExposureForUser(j)}};e.exports=k}),null);