if (self.CavalryLogger) { CavalryLogger.start_js(["6ZyDB"]); }

__d("PagesLoggerEventEnum",[],(function(a,b,c,d,e,f){e.exports={CLICK:"click",CREATE:"create",DELETE:"delete",DRAG:"drag",HOVER:"hover",IMPRESSION:"impression",RECEIVE_REQUEST:"receive_request",RECEIVE_RESPONSE:"receive_response",SAVE:"save",SCROLL:"scroll",SEND_REQUEST:"send_request",SEND_RESPONSE:"send_response",UNSAVE:"unsave",UPDATE:"update"}}),null);
__d("MPageViewportTracking",["Banzai","DataAttributeUtils","DOM","FBFeedLocations","FBJSON","MViewportTracking","StratcomManager"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m){"use strict";__p&&__p();var n,o=51;n=babelHelpers.inherits(p,l);n&&n.prototype;p.init=function(a){m.enableDispatch(document,"scroll"),new p().init(a)};p.prototype.getDataFromConfig=function(a){};p.prototype.getFBFeedLocation=function(){return j.PAGE};p.prototype.__getStreamRoot=function(){this.$MPageViewportTracking1||(this.$MPageViewportTracking1=document.getElementById("root"));return this.$MPageViewportTracking1};p.prototype.getAllStories=function(){return i.scry(this.__getStreamRoot(),"article","story-div")};p.prototype.getTimeout=function(){return 300};p.prototype.getDataToLog=function(a){a=k.parse(h.getDataFt(a),e.id);return{evt:o,ft:babelHelpers["extends"]({},a,{evt:o})}};p.prototype.getStoryID=function(a){a=k.parse(h.getDataFt(a),e.id);return a&&a.top_level_post_id};p.prototype.sendDataToLog=function(a){g.post("page_timeline_vpv_tracking",a)};function p(){n.apply(this,arguments)}e.exports=p}),null);
__d("PagesTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();function a(){this.clear()}a.prototype.log=function(){h.log("logger:PagesLoggerConfig",this.$1,g.BASIC)};a.prototype.logVital=function(){h.log("logger:PagesLoggerConfig",this.$1,g.VITAL)};a.prototype.logImmediately=function(){h.log("logger:PagesLoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setConnectionClass=function(a){this.$1.connection_class=a;return this};a.prototype.setEvent=function(a){this.$1.event=a;return this};a.prototype.setEventLocation=function(a){this.$1.event_location=a;return this};a.prototype.setEventTarget=function(a){this.$1.event_target=a;return this};a.prototype.setLogSource=function(a){this.$1.log_source=a;return this};a.prototype.setPageID=function(a){this.$1.page_id=a;return this};a.prototype.setRawClientTime=function(a){this.$1.raw_client_time=a;return this};a.prototype.setSessionid=function(a){this.$1.sessionid=a;return this};a.prototype.setTags=function(a){this.$1.tags=h.serializeVector(a);return this};a.prototype.updateExtraData=function(a){a=i(h.serializeMap(a));h.checkExtraDataFieldNames(a,j);this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.addToExtraData=function(a,b){var c={};c[a]=b;return this.updateExtraData(c)};var j={connection_class:!0,event:!0,event_location:!0,event_target:!0,log_source:!0,page_id:!0,raw_client_time:!0,sessionid:!0,tags:!0};e.exports=a}),null);
__d("MPagesFinchFanChainingTrigger",["MRequest","NTAnnounceSubscription"],(function(a,b,c,d,e,f,g,h){"use strict";a={addFanChainingUnitDisplayListener:function(a,b,c){h.subscribe(a,function(a){new g(c).send()})}};e.exports=a}),null);
__d("MPagesFinchMarauderLogger",["MarauderLogger","MLegacyDataStore","Stratcom"],(function(a,b,c,d,e,f,g,h,i){__p&&__p();var j=!1,k="m-pages-log-event",l="m-pages-log-event-onchange";function a(){if(j)return;i.listen("click",k,m);i.listen("change",l,n);j=!0}function m(event){o(event.getNode(k))}function n(event){o(event.getNode(l))}function o(a){a=h.get(a);g.log(a.event_name,a.module_name,a.log_data)}e.exports={init:a}}),null);
__d("MProgressivePhotoLoad",["$"],(function(a,b,c,d,e,f,g){__p&&__p();a=function(a){__p&&__p();function b(a,b){var e=new Image();e.onerror=d.bind(null,e);e.onload=c.bind(null,a,e);e.src=b}function c(a,b){var c=b.src;a.style.backgroundImage="url("+c+")";d(b)}function d(a){a.onload=null,a.onerror=null}a.newSrc&&b(g(a.id),a.newSrc)};f.main=a}),null);
__d("MAdsScrollOnMarginTap",["DOM","MLegacyDataStore","Stratcom","MScrollAreaHelper","BanzaiODS"],(function(a,b,c,d,e,f,g,h,i,j,k){__p&&__p();var l="scroller-item-mask";function a(event){var a=event.getData();m(a.element)}function b(a){m(a.getData())}function m(a){__p&&__p();var b=h.get(a);if(!b.scrollOnMarginTap)return;g.scry(a,"div",l).forEach(g.remove);a=b.scrollArea;b=a.getScrollPageIndex();var c=a.getChildAtPageIndex(b);c={height:c.offsetHeight+"px",position:"absolute",top:0,width:c.offsetWidth+"px",zIndex:99};if(!a.isFirstPage()){var d=g.create("div",{onclick:a.scrollByPages.bind(a,-1),sigil:l,style:c}),e=a.getChildAtPageIndex(b-1);e.appendChild(d)}if(!a.isLastPage()){e=g.create("div",{onclick:n.bind(),sigil:l,style:c});d=a.getChildAtPageIndex(b+1);d.appendChild(e)}}function n(event){var a=j.findScrollArea(event.toElement);a.scrollByPages(1);k.bumpEntityKey("feed_ads","m_site_tap_on_margin_next")}i.listen("MScrollArea:create",null,a);i.listen("MScrollArea:scrollend","egoScroller",a);i.listen("m:ads-infinite-hscroll:loaded",null,b);e.exports={}}),null);
__d("MDynamicAdLogger",["DOM","FBJSON","FBLogger","MarauderLogger","MLegacyDataStore","MRequest","Stratcom","XFeedEgoImpressionLoggingController","$","ge"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){__p&&__p();var q="first_hscroll_ad_shown",r="new_hscroll_ad_shown",s="item",t="pixelContainer",u;function a(){u||(u=m.listen("MScrollArea:scrollend","egoScroller",v),m.listen("m:page:unload",null,function(){m.removeCurrentListener(),u.remove(),u=null}))}function b(a){var b=o(a),c=k.get(b);a=x(b,0);a.forEach(function(a){if(a.element){w(b,a);a=k.get(a.element);a={uid:c.userId,adid:a.adId,size:c.size};j.log(q,c.loggingModule,a)}})}function v(event){__p&&__p();var a=event.getData(),b=a.element,c=k.get(b),d=a.scrollarea,f=d.getScrollPageIndex(),g=d.getScrollPageCount();d=x(b,f);d.forEach(function(d){__p&&__p();var f=y(b)?(g-1)*c.groupSize+1:g*c.groupSize;if(c.size==d.count&&c.size==f&&d.element){w(b,d);f=k.get(d.element);f={scrolled_by_user:a.scrolledByUser,pos:d.position,size:c.size,uid:c.userId,adid:f.adId};j.log(r,c.loggingModule,f)}else{f=c.size+", "+d.count+", "+g+", ";if(b){d=b.getAttribute("data-store");f+="id="+b.getAttribute("data-store-id");f+=" data="+d;try{f+=" meta=";for(var l in c)f+=l+",";a=h.parse(d,e.id);f+=" size2="+a.size}catch(a){typeof JSON!=="undefined"?f+=" err":f+=" err2"}}i("FIXME").mustfix("Unexpected number of items reported by scrollArea : "+f)}})}function w(a,b){__p&&__p();if(b.element){b=k.get(b.element);var c=g.scry(a.parentNode,"span",t)[0];c&&b.pixel&&(g.appendContent(c,p(b.pixel)),b.pixel=null);if(b.adId){c=k.get(a);if(c.loggedItems&&c.loggedItems[b.adId]||!c.qid||!c.mf_story_key)return;a=n.getURIBuilder().setInt("ego_id",b.adId).setInt("qid",c.qid).setInt("mf_story_key",c.mf_story_key).getURI();new l(a).send();c.loggedItems||(c.loggedItems={});c.loggedItems[b.adId]=!0}}}function x(a,b){__p&&__p();if(a){var c=g.scry(a,"*",s);if(!c||c.length<=0){i("FIXME").mustfix("no item sigil under scroll area");return[]}var d=null,e=g.scry(a,"*","scroll-area-body")[0];if(e){if(b>=e.children.length){i("FIXME").mustfix("pageIndex "+b+" is larger then total page number "+e.children.length);return[]}e=e.children[b];d=m.hasSigil(e,s)?[e]:g.scry(e,"*",s);e=k.get(a);if(!e||!e.groupSize||e.groupSize<d.length){i("FIXME").mustfix("More number of items in a group then expected, group size: %s, item number: %s",e&&e.groupSize?e.groupSize:"unknown",d.length);return[]}}else{if(b!==0){i("FIXME").mustfix("Try to get page index not 0 when not scrolling. Index %s",b);return[]}d=c}return d.map(function(a){return{element:a,count:c.length,position:k.get(a).position}})}}function y(a){return g.scry(a,"*","m-hscroll-ego-loading").length>0}e.exports={init:a,logImpression:b}}),null);
__d("MOrientationResize",["DOM","MLegacyDataStore","MParent","Stratcom","Vector","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g,h,i,j,k,l){__p&&__p();var m;f.main=function(a){__p&&__p();var b="orientation-resizable",c="content-pane";if(m){d(a.id);return}m=!0;function d(a){a=document.getElementById(a);a&&t([{root:i.bySigil(a,c),elements:[a]}])}function e(a,b){__p&&__p();var c=b.padding||0,d=b.aspectRatio||1,e=b.widthRatio||1;b=b.containerAspectRatio;a=a*e-c;if(!b)e=a,c=Math.floor(a/d);else{a=a;b=a/b;var f=a/b;d=d;d=d/f;d>1?(e=a,c=1/d*b):(e=d*a,c=b)}return new k(e,c)}function f(a,b){var c=b.aspectRatio||1,d=b.columnCount||1,e=b.gridPadding||0;b=b.photoMargin||0;a=a-e-(d-1)*b;e=Math.floor(a/d);b=Math.ceil(e/c);return new k(e,b)}function n(a,b){var c=b.aspectRatio||1,d=b.widthRatio||1;b=b.padding||0;a=a*d;d=a/c;return new k(Math.round(a)-b,Math.floor(d)-b)}function o(a){a=a.getData();var d=g.scry(a,"*",b);d&&t([{root:i.bySigil(a,c),elements:d}])}var p,q;function r(){__p&&__p();q++;var a=!1,d=g.scry(document,"*",c);if(d&&d.length){var e=[];for(var f=0;f<d.length;f++){var i=d[f],k=i.offsetWidth,m=h.get(i);m=m&&m.offsetWidth;k!==m&&(h.set(i,{offsetWidth:k}),a=!0,e.push({root:i,elements:g.scry(i,"*",b)}))}e.length&&t(e)}q<3&&(p=l(r,500));a&&j.invoke("m:orientation-resize:complete")}function s(){q=0,clearTimeout(p),r()}function t(a){__p&&__p();var b=[];for(var c=0;c<a.length;c++){var d=a[c].root,g=a[c].elements;if(!d||!g)continue;d=d.offsetWidth;if(d===0)continue;for(var i=0;i<g.length;i++){var j=g[i],k=h.get(j),l=null,m;switch(k.mode){case"scale-photo-attachment":l=e(d,k);break;case"scale-photo-relative-item":l=n(d-k.outerPadding,k);break;case"scale-photo-grid-item":l=f(d,k);break;case"resize-to-unit":l=u(d,j,k);break;case"resize-feed-2-photos-attachment":m=x(d,j,k);b=b.concat(m);continue;case"resize-feed-3-photos-attachment":m=y(d,j,k);b=b.concat(m);continue;default:continue}b.push({node:j,width:l.x,height:l.y})}}b.forEach(function(a){if(!a||!a.node)return;a.node.style.width=a.width+"px";a.node.style.height=a.height+"px"})}function u(a,b,c){var d=c.padding||0,e=c.aspectRatio||1;c=c.widthRatio||1;b=v(b);b=b?k.getDim(b).x:a;a=b*c-d;b=Math.floor(a/e);return new k(a,b)}function v(a){return i.bySigil(a,"orientation-resize-parent")}function w(a,b){b=b==="P"?4/3:3/4;return Math.floor(a*b)}function x(a,b,c){__p&&__p();var d=c.orient;a=a-c.spacing;var e,f,h;if(d==="PL"||d==="LP"){c=Math.round(a*c.fraction);var i=a-c;h=w(c,"L");d==="PL"?(e=i,f=c):(e=c,f=i)}else e=Math.round(a/2),f=a-e,h=w(e,d[0]);c=g.scry(b,"*","photoleft")[0];i=g.scry(b,"*","photoright")[0];a=[];c&&a.push({node:c,width:e,height:h});i&&a.push({node:i,width:f,height:h});return a}function y(a,b,c){a=a-c.spacing;var d=Math.round(a*c.fraction);a=a-d;var e=w(d,c.orient),f=Math.floor(e/2)-c.margin;c=e-f-c.margin;return[{node:g.find(b,"*","mainphoto"),width:d,height:e},{node:g.find(b,"*","topphoto"),width:a,height:f},{node:g.find(b,"*","bottomphoto"),width:a,height:c}]}a.id&&d(a.id);j.listen(["m:viewport:orientation-change","m:page:render:complete","m:page:render:cache:complete","m:ajax:complete","m:plugin:resize"],null,s);j.listen(["m:timeline:unit:resize","m-timeline-two-column-layout:pre-section-balance"],null,o)}}),null);
__d("MCroppedPhotoGrid",["CSS","DOM","MLegacyDataStore","Stratcom","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g,h,i,j,k){__p&&__p();var l="m-cropped-photo-grid",m=function(a){__p&&__p();var b=h.scry(a,"*","grid-item-deferred"),c=i.get(a);c.timer=null;var d=window.innerWidth*1.5,e=b.length-1;b.some(function(a,b){__p&&__p();var f=i.get(a);if(!f.rendered){var h=a.getBoundingClientRect();if(h.left<=d){f.rendered=!0;var j=new Image();j.onload=function(){g.conditionClass(a,"gridPhotoDeferred",!1),j.onload=null};h=a.style.backgroundImage;h=h.replace(/.*url\((\"|\')?([^(\"|\')]*)(\"|\')?\).*/,"$2");j.src=h;c.complete=e===b}else return!0}})};a=function(a){a=a.getNode(l);var b=i.get(a);b.complete||(b.timer=k(m.bind(null,a),300))};b=function(a){a=a.getNode(l);a=i.get(a).timer;a&&clearTimeout(a)};j.listen("touchstart",l,b);j.listen("touchend",l,a)}),null);
__d("MUFISocialSentence",["Bootloader","CSS","DOM","MLiveData","Stratcom","SubscriptionsHandler","cx","fbt"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){__p&&__p();function a(a,b,c,d,e,f){"use strict";__p&&__p();if(!f&&!c)return;this.$1=a;this.$2=j.get(b);this.$3=d;this.$4=e;this.$5=f;this.$6=c;this.$7=new l();this.$7.addSubscriptions(this.$2.listen("change",this.onChange.bind(this)),k.listen("m:page:unload",null,this.onUnload.bind(this)))}a.prototype.onChange=function(){"use strict";__p&&__p();var a=this.$2.getData();if(a.request_id===this.$4)return;h.removeClass(this.$1,"like_opt");var b=this.$5&&a.like_count?a[this.$3][0]:null,c=this.$6&&a.comment_count?a.comment_count:null;if(b&&b.text){this.$8={text:b,ftid:a.ft_ent_identifier};b=b.text;this.$6||g.loadModules(["MReactComponentRenderer","MUFISocialSentenceTextWithEntities.react"],function(a,b){a(b,this.$1,this.$8)}.bind(this),"MUFISocialSentence");return}if(b){var d=this.$3!=="like_counts"&&!a.like_fallback&&c?"div":"span";b=i.create(d,null,b);h.addClass(b,"_28wy")}c&&(c=c>1?n._({"*":"{count} Comments"},[n._param("count",c,[0])]):n._({"*":"{count} Comment"},[n._param("count",c,[0])]),c=i.create("span",{},c),h.addClass(c,"_28wy"));i.setContent(this.$1,[b,c]);this.$9(a)};a.prototype.$9=function(a){"use strict";var b=this.$5&&(a.like_count||a.reactioncount);a=this.$6&&a.comment_count;h.conditionShow(this.$1,!!(b||a))};a.prototype.onUnload=function(){"use strict";this.$7.release(),this.$7=null};e.exports=a}),null);
__d("XFantailLogController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ajax/fantail/",{service:{type:"String",required:!0}})}),null);
__d("SimpleFBAuthenticatedXHRRequest",["CurrentUser","DTSG","DTSGUtils","ServerJSDefine","SprinkleConfig","XHRRequest","invariant","isFacebookURI"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){__p&&__p();var o,p=1;a=babelHelpers.inherits(q,l);o=a&&a.prototype;function q(a,b){"use strict";o.constructor.call(this,a);a={__dyn:j.getLoadedModuleHash(),__req:(p++).toString(36),__ajax__:1,__a:1,__user:g.getID()};o.setData.call(this,babelHelpers["extends"]({},b,a))}q.prototype.send=function(){"use strict";__p&&__p();if(!n(this.getURI()))return o.send.call(this);if(h.getCachedToken){var a=h.getCachedToken();if(a)return this.sendOnDTSGToken(a);else{h.getToken().done(function(a){return this.sendOnDTSGToken(a)}.bind(this));return this}}else this.sendOnDTSGToken(h.getToken())};q.prototype.sendOnDTSGToken=function(a){"use strict";if(a){o.setData.call(this,babelHelpers["extends"]({},this.getData(),{fb_dtsg:a}));if(k.param_name){var b;o.setData.call(this,babelHelpers["extends"]({},this.getData(),(b={},b[k.param_name]=i.getNumericValue(a),b)))}}return o.send.call(this)};q.prototype.setData=function(a){"use strict";m(0,5518)};q.parseResponse=function(a){"use strict";return JSON.parse(a.substr(9))};q.getPayload=function(a){"use strict";a=q.parseResponse(a).payload;return a.payload?a.payload:a};e.exports=q}),null);
__d("FantailLogQueue",["ChannelClientID","CircularBuffer","FantailConfig","PHPQuerySerializer","SimpleFBAuthenticatedXHRRequest","XFantailLogController","destroyOnUnload","setIntervalAcrossTransitions","sprintf"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){__p&&__p();var p={DEBUG:"debug",INFO:"info",WARN:"warn",ERROR:"error"};function q(a){"use strict";this.$2=a,this.$3=new h(200),n(this.$4.bind(this),30*1e3),m(this.$4.bind(this))}q.get=function(a){"use strict";q.$1=q.$1||{};q.$1[a]=q.$1[a]||new q(a);return q.$1[a]};q.prototype.debug=function(a){"use strict";for(var b=arguments.length,c=new Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];this.$5.apply(this,[p.DEBUG,a].concat(c))};q.prototype.info=function(a){"use strict";for(var b=arguments.length,c=new Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];this.$5.apply(this,[p.INFO,a].concat(c))};q.prototype.warn=function(a){"use strict";for(var b=arguments.length,c=new Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];this.$5.apply(this,[p.WARN,a].concat(c))};q.prototype.error=function(a){"use strict";for(var b=arguments.length,c=new Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];this.$5.apply(this,[p.ERROR,a].concat(c))};q.prototype.$5=function(a,b){"use strict";for(var c=arguments.length,d=new Array(c>2?c-2:0),e=2;e<c;e++)d[e-2]=arguments[e];var f=o.apply(void 0,[b].concat(d));this.$3.write({log_time:Date.now(),log:f,severity:a,device_id:g.getID()})};q.prototype.$4=function(){"use strict";__p&&__p();var a=this.$3.read();if(a.length>0){var b={log_time:[],log:[],severity:[],device_id:[]};a.forEach(function(a){b.log_time.push(a.log_time),b.log.push(a.log),b.severity.push(a.severity),b.device_id.push(a.device_id)});this.$3.clear();a=l.getURIBuilder().setString("service",this.$2).getURI();new k(a,b).setMethod("POST").setDataSerializer(j.serialize).setRequestHeader("Content-Type","application/x-www-form-urlencoded").send()}};e.exports=q}),null);
__d("CurrentPage",["Run","invariant"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=null,j=null;a={init:function(a){var b=a.pageID;a=a.pageName;this.setID(b);this.setName(a);g.onLeave(this._clear)},getID:function(){i!==null||h(0,3482);return i},setID:function(a){i||(i=a)},getName:function(){j!==null||h(0,3482);return j},setName:function(a){j||(j=a)},_clear:function(){i=null,j=null}};e.exports=a}),null);
__d("PagesLogger",["PagesLoggerEventEnum","PagesTypedLogger"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i="extra_data_";a={log:function(a,event,b,c,d,e){c===void 0&&(c=null);d===void 0&&(d=[]);var f={},g=e||{};Object.keys(g||{}).forEach(function(a){var b=g[a];(b instanceof Array||b instanceof Object)&&(b=JSON.stringify(b));f[i+a]=b});new h().setPageID(a).setEvent(event).setEventTarget(b).setEventLocation(c).setLogSource("pages_logger").setTags(d).updateExtraData(f).log()},registerLogOnClick:function(a,b,c,d,e,f){d===void 0&&(d=null),e===void 0&&(e=[]),f===void 0&&(f={}),a.addEventListener("click",function(){this.log(b,g.CLICK,c,d,e,f)}.bind(this))}};e.exports=a}),null);