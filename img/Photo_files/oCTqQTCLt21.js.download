if (self.CavalryLogger) { CavalryLogger.start_js(["gk9Iw"]); }

__d("AdsTransparencyReportAdTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();function a(){this.clear()}a.prototype.log=function(){h.log("logger:AdsTransparencyReportAdLoggerConfig",this.$1,g.BASIC)};a.prototype.logVital=function(){h.log("logger:AdsTransparencyReportAdLoggerConfig",this.$1,g.VITAL)};a.prototype.logImmediately=function(){h.log("logger:AdsTransparencyReportAdLoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setAdID=function(a){this.$1.ad_id=a;return this};a.prototype.setAdsPageType=function(a){this.$1.ads_page_type=a;return this};a.prototype.setEntity=function(a){this.$1.entity=a;return this};a.prototype.setEvent=function(a){this.$1.event=a;return this};a.prototype.setProductLocation=function(a){this.$1.product_location=a;return this};a.prototype.setReportReason=function(a){this.$1.report_reason=a;return this};a.prototype.setSessionID=function(a){this.$1.session_id=a;return this};a.prototype.setTime=function(a){this.$1.time=a;return this};a.prototype.setVC=function(a){this.$1.vc=a;return this};a.prototype.setWeight=function(a){this.$1.weight=a;return this};a.prototype.updateExtraData=function(a){a=i(h.serializeMap(a));h.checkExtraDataFieldNames(a,j);this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.addToExtraData=function(a,b){var c={};c[a]=b;return this.updateExtraData(c)};var j={ad_id:!0,ads_page_type:!0,entity:!0,event:!0,product_location:!0,report_reason:!0,session_id:!0,time:!0,vc:!0,weight:!0};e.exports=a}),null);
__d("PagesEventWatchStatusSelectorType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({WATCH_STATUS_GOING_SIGIL:"watch-status-going",WATCH_STATUS_INTERESTED_SIGIL:"watch-status-interested",WATCH_STATUS_NOT_GOING_SIGIL:"watch-status-not-going"})}),null);
__d("XFeedChainingAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/feed/pivot/chaining/",{share_id:{type:"String"},ufi_node_id:{type:"String"},ft_id:{type:"String"}})}),null);
__d("MFeedChaining",["BanzaiLogger","DOM","MParent","MUFIRequest","PagesEventWatchStatusSelectorType","Stratcom","SubscriptionsHandler","XAsyncRequest","XFeedChainingAsyncController","ge"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){"use strict";__p&&__p();var q="suggestion-chain-unit",r="ufi-inline-like",s="empty-suggestion-unit",t="has-chaining-unit",u=!1;a={_isSuccessfulUnit:function(a){return!l.hasSigil(a,s)},addChainingUnit:function(a,b){__p&&__p();a=p(a);if(!a)return;var c=i.bySigil(a,"story-div");if(!c)return;var d=c.nextElementSibling;if(!(d&&l.hasSigil(d,q))&&this._isSuccessfulUnit(b)){h.insertAfter(c,b);d=h.scry(a,"*",r);d=d.length&&d[0];c=d&&d.getAttribute("href");if(c){b=j.getURI(c);b.removeQueryData("chainingEnabled");d.setAttribute("href",b.toString())}}},addLinkChaining:function(a,b){a=p(a);if(!a)return;a=i.bySigil(a,"story-div");if(!a)return;var c=l.hasSigil(a,t);c||(h.insertAfter(a,b),l.addSigil(a,t),g.log("MTouchLinkPivotsLoggerConfig",{event:"impression"}))},addEventChaining:function(a,b){a=p(a);if(!a)return;a=i.bySigil(a,"story-div");if(!a)return;var c=l.hasSigil(a,t);c||(h.insertAfter(a,b),l.addSigil(a,t))},registerClickHandler:function(a){var b=h.scry(a.story,"*","m-feed-story-attachments-element")[0];if(!b)return;var c=new m();c.addSubscriptions(h.listen(b,"click",null,function(){var b=o.getURIBuilder().setString("share_id",a.share_id.toString()).setString("ufi_node_id",a.ufi_node_id.toString()).setString("ft_id",a.ft_id).getURI();new n(b).send();g.log("MTouchLinkPivotsLoggerConfig",{event:"request"})}),l.listen("m:page:unload",null,function(){c.release()}))},registerEventRSVPButtonClickHandler:function(a){var b=h.scry(a.story,"*","m-feed-story-attachments-element")[0];if(!b)return;l.listen("click",k.WATCH_STATUS_INTERESTED_SIGIL+a.share_id,function(b){b=o.getURIBuilder().setString("share_id",a.share_id.toString()).setString("ufi_node_id",a.ufi_node_id.toString()).setString("ft_id",a.ft_id).getURI();new n(b).send()})},listenClickEventsOnChainingUnit:function(){if(u)return;l.listen("click","link-pivots-story",function(event){var a=null;event.getNode("link-pivots-share-link")?a="share":event.getNode("link-pivots-save-link")?a="save":event.getNode("link-pivots-attachment")&&(a="outbound_click");g.log("MTouchLinkPivotsLoggerConfig",{event:a})});u=!0}};e.exports=a}),null);
__d("AdsTransparencyReportAdEntity",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({AD_ARCHIVE_REDIRECT:"ad_archive_redirect",AD_USEFUL:"ad_useful",ADSCRIBE:"adscribe",DEPRECATED_HIDE:"deprecated_hide",HIDE_AD:"hide_ad",HIDE_AD_REASON:"hide_ad_reason",HIDE_ADVERTISER:"hide_advertiser",HIDE_PRODUCT:"hide_product",REPORT_AD_NUX:"report_ad_nux",WAIST_DIALOG:"waist_dialog",REPORT_AD:"report_ad",REPORT_AD_REASON:"report_ad_reason",TOMBSTONE:"tombstone",SAVE_AD:"save_ad",UNDO_HIDE_AD:"undo_hide_ad",UNDO_HIDE_PRODUCT:"undo_hide_product",UNDO_HIDE_ADVERTISER:"undo_hide_advertiser",UNDO_REPORT_AD:"undo_report_ad",XOUT_MENU:"xout_menu"})}),null);
__d("AdsTransparencyReportAdEvent",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({BACKEND_AD_XOUT_EVENT_WRITE:"backend_ad_xout_event_write",BACKEND_ASSOC_WRITE:"backend_assoc_write",BACKEND_UNDO_AD_XOUT_EVENT_WRITE:"backend_undo_ad_xout_event_write",BACKEND_UNDO_ASSOC_WRITE:"backend_undo_assoc_write",CLICK:"click",IMPRESSION:"impression",INFO:"info",INVALIDATION:"invalidation"})}),null);
__d("MReportAdLoggingEvents",["AdsTransparencyReportAdEntity","AdsTransparencyReportAdEvent","AdsTransparencyReportAdTypedLogger","EventListener","WebFunnelLogger"],(function(a,b,c,d,e,f,g,h,i,j,k){"use strict";__p&&__p();a={registerMenuItemClick:function(a,b,c,d,e,f,l){j.listen(a,"click",function(){new i().setEvent(h.CLICK).setAdID(b).setEntity(c).setSessionID(d).setProductLocation(f).setAdsPageType(e).log();if(c===g.XOUT_MENU&&l){var a=new k("AdsReportingFunnelDefinition");a.markStart();a.setAction("click").setActionTag("xout_menu").addFunnelPayload("flowtype",l).setSessionKey(b).log()}})}};e.exports=a}),null);